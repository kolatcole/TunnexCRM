2020-08-15 09:23:35.474 +01:00 [Information] User profile is available. Using '"C:\Users\PC\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
2020-08-15 09:23:38.268 +01:00 [Information] Request starting HTTP/2.0 GET https://localhost:44363/swagger/index.html  
2020-08-15 09:23:38.268 +01:00 [Information] Request starting HTTP/2.0 GET https://localhost:44363/api/values  
2020-08-15 09:23:38.653 +01:00 [Information] Request finished in 339.0757ms 0 
2020-08-15 09:23:38.700 +01:00 [Information] Request finished in 439.5321ms 200 text/html;charset=utf-8
2020-08-15 09:23:39.379 +01:00 [Information] Request starting HTTP/2.0 GET https://localhost:44363/swagger/swagger-ui.css  
2020-08-15 09:23:39.380 +01:00 [Information] Request starting HTTP/2.0 GET https://localhost:44363/swagger/swagger-ui-standalone-preset.js  
2020-08-15 09:23:39.384 +01:00 [Information] Request starting HTTP/2.0 GET https://localhost:44363/swagger/swagger-ui-bundle.js  
2020-08-15 09:23:39.745 +01:00 [Information] The file "/swagger-ui-standalone-preset.js" was not modified
2020-08-15 09:23:39.745 +01:00 [Information] The file "/swagger-ui-bundle.js" was not modified
2020-08-15 09:23:39.746 +01:00 [Information] The file "/swagger-ui.css" was not modified
2020-08-15 09:23:39.750 +01:00 [Information] Request finished in 372.597ms 304 application/javascript
2020-08-15 09:23:39.750 +01:00 [Information] Request finished in 372.8647ms 304 text/css
2020-08-15 09:23:39.751 +01:00 [Information] Request finished in 366.8112ms 304 application/javascript
2020-08-15 09:23:44.133 +01:00 [Information] Request starting HTTP/2.0 GET https://localhost:44363/swagger/v1/swagger.json  
2020-08-15 09:23:44.443 +01:00 [Information] Request finished in 310.7295ms 200 application/json;charset=utf-8
2020-08-15 09:25:34.158 +01:00 [Information] Request starting HTTP/2.0 GET https://localhost:44363/api/Customer/GetAllCustomers  
2020-08-15 09:25:34.171 +01:00 [Information] Executing endpoint '"CRMSystem.Presentation.CustomerController.GetAllCustomers (CRMSystem.Presentation.Core)"'
2020-08-15 09:25:34.260 +01:00 [Information] Route matched with "{action = \"GetAllCustomers\", controller = \"Customer\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCustomers()" on controller "CRMSystem.Presentation.CustomerController" ("CRMSystem.Presentation.Core").
2020-08-15 09:25:36.430 +01:00 [Warning] No type was specified for the decimal column '"Amount"' on entity type '"Invoice"'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2020-08-15 09:25:36.431 +01:00 [Warning] No type was specified for the decimal column '"AmountPaid"' on entity type '"Invoice"'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2020-08-15 09:25:36.432 +01:00 [Warning] No type was specified for the decimal column '"Balance"' on entity type '"Invoice"'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2020-08-15 09:25:36.432 +01:00 [Warning] No type was specified for the decimal column '"Discount"' on entity type '"Invoice"'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2020-08-15 09:25:36.432 +01:00 [Warning] No type was specified for the decimal column '"Tax"' on entity type '"Invoice"'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2020-08-15 09:25:36.433 +01:00 [Warning] No type was specified for the decimal column '"TaxPercent"' on entity type '"Invoice"'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2020-08-15 09:25:36.433 +01:00 [Warning] No type was specified for the decimal column '"Amount"' on entity type '"Item"'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2020-08-15 09:25:36.433 +01:00 [Warning] No type was specified for the decimal column '"Amount"' on entity type '"Payment"'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2020-08-15 09:25:36.434 +01:00 [Warning] No type was specified for the decimal column '"CostPrice"' on entity type '"Price"'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2020-08-15 09:25:36.434 +01:00 [Warning] No type was specified for the decimal column '"SalePrice"' on entity type '"Price"'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2020-08-15 09:25:36.434 +01:00 [Warning] No type was specified for the decimal column '"CostPrice"' on entity type '"Product"'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2020-08-15 09:25:36.434 +01:00 [Warning] No type was specified for the decimal column '"SalePrice"' on entity type '"Product"'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2020-08-15 09:25:36.435 +01:00 [Warning] No type was specified for the decimal column '"CompetencyValue"' on entity type '"StaffSkill"'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2020-08-15 09:25:36.511 +01:00 [Information] Entity Framework Core "3.1.4" initialized '"TContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=CRMSystem.Presentation.Core "
2020-08-15 09:25:39.751 +01:00 [Information] Executed DbCommand ("712"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[ID], [c].[Address], [c].[DateCreated], [c].[DateModified], [c].[Email], [c].[FirstName], [c].[Gender], [c].[Image], [c].[LastName], [c].[Phone], [c].[TotalSales], [c].[UserCreated], [c].[UserModified], [c0].[ID], [c0].[Attachment], [c0].[CustomerID], [c0].[DateCreated], [c0].[DateModified], [c0].[Summary], [c0].[Type], [c0].[UserCreated], [c0].[UserModified]
FROM [Customers] AS [c]
LEFT JOIN [CustomerMessages] AS [c0] ON [c].[ID] = [c0].[CustomerID]
ORDER BY [c].[ID], [c0].[ID]"
2020-08-15 09:25:40.003 +01:00 [Information] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[CRMSystem.Domains.Customer, CRMSystem.Domains.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2020-08-15 09:25:40.053 +01:00 [Information] Executed action "CRMSystem.Presentation.CustomerController.GetAllCustomers (CRMSystem.Presentation.Core)" in 5777.4854ms
2020-08-15 09:25:40.056 +01:00 [Information] Executed endpoint '"CRMSystem.Presentation.CustomerController.GetAllCustomers (CRMSystem.Presentation.Core)"'
2020-08-15 09:25:40.064 +01:00 [Information] Request finished in 5905.9544ms 200 application/json; charset=utf-8
2020-08-15 09:26:08.314 +01:00 [Information] Request starting HTTP/2.0 GET https://localhost:44363/api/Product/GetAllProducts  
2020-08-15 09:26:08.316 +01:00 [Information] Executing endpoint '"CRMSystem.Presentation.ProductController.GetAllProducts (CRMSystem.Presentation.Core)"'
2020-08-15 09:26:08.330 +01:00 [Information] Route matched with "{action = \"GetAllProducts\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllProducts()" on controller "CRMSystem.Presentation.ProductController" ("CRMSystem.Presentation.Core").
2020-08-15 09:26:08.452 +01:00 [Information] Entity Framework Core "3.1.4" initialized '"TContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=CRMSystem.Presentation.Core "
2020-08-15 09:26:08.604 +01:00 [Information] Executed DbCommand ("103"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [p].[ID], [p].[CostPrice], [p].[DateCreated], [p].[DateModified], [p].[Description], [p].[Image], [p].[Location], [p].[Name], [p].[Quantity], [p].[SalePrice], [p].[StockLevel], [p].[TotalSold], [p].[UserCreated], [p].[UserModified]
FROM [Products] AS [p]"
2020-08-15 09:26:08.641 +01:00 [Information] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[CRMSystem.Domains.Product, CRMSystem.Domains.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2020-08-15 09:26:08.660 +01:00 [Information] Executed action "CRMSystem.Presentation.ProductController.GetAllProducts (CRMSystem.Presentation.Core)" in 328.6387ms
2020-08-15 09:26:08.660 +01:00 [Information] Executed endpoint '"CRMSystem.Presentation.ProductController.GetAllProducts (CRMSystem.Presentation.Core)"'
2020-08-15 09:26:08.660 +01:00 [Information] Request finished in 347.0207ms 200 application/json; charset=utf-8
2020-08-15 09:28:52.692 +01:00 [Information] Request starting HTTP/2.0 POST https://localhost:44363/api/Product/UpdateProduct application/json 275
2020-08-15 09:28:52.719 +01:00 [Information] CORS policy execution successful.
2020-08-15 09:28:52.747 +01:00 [Information] Executing endpoint '"CRMSystem.Presentation.ProductController.Update (CRMSystem.Presentation.Core)"'
2020-08-15 09:28:52.779 +01:00 [Information] Route matched with "{action = \"Update\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Update(CRMSystem.Domains.Product)" on controller "CRMSystem.Presentation.ProductController" ("CRMSystem.Presentation.Core").
2020-08-15 09:28:53.037 +01:00 [Information] Entity Framework Core "3.1.4" initialized '"TContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=CRMSystem.Presentation.Core "
2020-08-15 09:28:53.381 +01:00 [Information] Executed DbCommand ("244"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [p].[ID], [p].[CostPrice], [p].[DateCreated], [p].[DateModified], [p].[Description], [p].[Image], [p].[Location], [p].[Name], [p].[Quantity], [p].[SalePrice], [p].[StockLevel], [p].[TotalSold], [p].[UserCreated], [p].[UserModified]
FROM [Products] AS [p]
WHERE [p].[ID] = @__p_0"
2020-08-15 09:28:54.149 +01:00 [Information] Executed DbCommand ("469"ms) [Parameters=["@p13='?' (DbType = Int32), @p0='?' (DbType = Decimal), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int32), @p8='?' (DbType = Decimal), @p9='?' (DbType = Int32), @p10='?' (DbType = Int32), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [Products] SET [CostPrice] = @p0, [DateCreated] = @p1, [DateModified] = @p2, [Description] = @p3, [Image] = @p4, [Location] = @p5, [Name] = @p6, [Quantity] = @p7, [SalePrice] = @p8, [StockLevel] = @p9, [TotalSold] = @p10, [UserCreated] = @p11, [UserModified] = @p12
WHERE [ID] = @p13;
SELECT @@ROWCOUNT;"
2020-08-15 09:28:54.207 +01:00 [Information] Executing ObjectResult, writing value of type '"System.Int32"'.
2020-08-15 09:28:54.235 +01:00 [Information] Executed action "CRMSystem.Presentation.ProductController.Update (CRMSystem.Presentation.Core)" in 1455.8138ms
2020-08-15 09:28:54.236 +01:00 [Information] Executed endpoint '"CRMSystem.Presentation.ProductController.Update (CRMSystem.Presentation.Core)"'
2020-08-15 09:28:54.237 +01:00 [Information] Request finished in 1545.7854ms 200 application/json; charset=utf-8
2020-08-15 09:29:05.235 +01:00 [Information] Request starting HTTP/2.0 POST https://localhost:44363/api/Sale/SaveSale application/json 1871
2020-08-15 09:29:05.237 +01:00 [Information] CORS policy execution successful.
2020-08-15 09:29:05.238 +01:00 [Information] Executing endpoint '"CRMSystem.Presentation.SaleController.Save (CRMSystem.Presentation.Core)"'
2020-08-15 09:29:05.252 +01:00 [Information] Route matched with "{action = \"Save\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Save(CRMSystem.Domains.Sale)" on controller "CRMSystem.Presentation.SaleController" ("CRMSystem.Presentation.Core").
2020-08-15 09:29:05.396 +01:00 [Information] Executed action "CRMSystem.Presentation.SaleController.Save (CRMSystem.Presentation.Core)" in 142.6323ms
2020-08-15 09:29:05.426 +01:00 [Information] Executed endpoint '"CRMSystem.Presentation.SaleController.Save (CRMSystem.Presentation.Core)"'
2020-08-15 09:29:06.132 +01:00 [Error] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Unable to resolve service for type 'CRMSystem.Domains.IWaybillService' while attempting to activate 'CRMSystem.Domains.SaleService'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.<>c__DisplayClass7_0.<GetCallSite>b__0(Type type)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.CreateServiceAccessor(Type serviceType)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.GetService(Type serviceType, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetService(IServiceProvider sp, Type type, Type requiredBy, Boolean isDefaultParameterRequired)
   at lambda_method(Closure , IServiceProvider , Object[] )
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerActivatorProvider.<>c__DisplayClass4_0.<CreateActivator>b__0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass5_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|24_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2020-08-15 09:29:06.172 +01:00 [Information] Request finished in 936.9049ms 500 text/plain
2020-08-15 09:30:38.398 +01:00 [Information] User profile is available. Using '"C:\Users\PC\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
2020-08-15 09:30:38.637 +01:00 [Information] Request starting HTTP/2.0 GET https://localhost:44363/api/values  
2020-08-15 09:30:38.886 +01:00 [Information] Request finished in 253.9935ms 404 
2020-08-15 09:30:43.330 +01:00 [Information] Request starting HTTP/2.0 GET https://localhost:44363/swagger/index.html  
2020-08-15 09:30:43.407 +01:00 [Information] Request finished in 80.9588ms 200 text/html;charset=utf-8
2020-08-15 09:30:43.979 +01:00 [Information] Request starting HTTP/2.0 GET https://localhost:44363/swagger/v1/swagger.json  
2020-08-15 09:30:44.226 +01:00 [Information] Request finished in 247.0031ms 200 application/json;charset=utf-8
2020-08-15 09:31:10.851 +01:00 [Information] Request starting HTTP/2.0 POST https://localhost:44363/api/Sale/SaveSale application/json 1871
2020-08-15 09:31:10.878 +01:00 [Information] CORS policy execution successful.
2020-08-15 09:31:10.879 +01:00 [Information] Executing endpoint '"CRMSystem.Presentation.SaleController.Save (CRMSystem.Presentation.Core)"'
2020-08-15 09:31:11.000 +01:00 [Information] Route matched with "{action = \"Save\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Save(CRMSystem.Domains.Sale)" on controller "CRMSystem.Presentation.SaleController" ("CRMSystem.Presentation.Core").
2020-08-15 09:31:11.023 +01:00 [Information] Executed action "CRMSystem.Presentation.SaleController.Save (CRMSystem.Presentation.Core)" in 5.1827ms
2020-08-15 09:31:11.029 +01:00 [Information] Executed endpoint '"CRMSystem.Presentation.SaleController.Save (CRMSystem.Presentation.Core)"'
2020-08-15 09:31:11.085 +01:00 [Error] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Unable to resolve service for type 'CRMSystem.Domains.IWaybillRepo' while attempting to activate 'CRMSystem.Domains.WaybillService'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.<>c__DisplayClass7_0.<GetCallSite>b__0(Type type)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.<>c__DisplayClass7_0.<GetCallSite>b__0(Type type)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.CreateServiceAccessor(Type serviceType)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.GetService(Type serviceType, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetService(IServiceProvider sp, Type type, Type requiredBy, Boolean isDefaultParameterRequired)
   at lambda_method(Closure , IServiceProvider , Object[] )
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerActivatorProvider.<>c__DisplayClass4_0.<CreateActivator>b__0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass5_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|24_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2020-08-15 09:31:11.105 +01:00 [Information] Request finished in 255.2396ms 500 text/plain
2020-08-15 09:34:47.046 +01:00 [Information] User profile is available. Using '"C:\Users\PC\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
2020-08-15 09:34:47.298 +01:00 [Information] Request starting HTTP/2.0 GET https://localhost:44363/api/values  
2020-08-15 09:34:47.481 +01:00 [Information] Request finished in 187.3901ms 404 
2020-08-15 09:34:53.093 +01:00 [Information] Request starting HTTP/2.0 GET https://localhost:44363/swagger/index.html  
2020-08-15 09:34:53.164 +01:00 [Information] Request finished in 73.4111ms 200 text/html;charset=utf-8
2020-08-15 09:34:53.410 +01:00 [Information] Request starting HTTP/2.0 GET https://localhost:44363/swagger/v1/swagger.json  
2020-08-15 09:34:53.648 +01:00 [Information] Request finished in 239.0205ms 200 application/json;charset=utf-8
2020-08-15 09:35:11.332 +01:00 [Information] Request starting HTTP/2.0 POST https://localhost:44363/api/Sale/SaveSale application/json 1871
2020-08-15 09:35:11.369 +01:00 [Information] CORS policy execution successful.
2020-08-15 09:35:11.371 +01:00 [Information] Executing endpoint '"CRMSystem.Presentation.SaleController.Save (CRMSystem.Presentation.Core)"'
2020-08-15 09:35:11.441 +01:00 [Information] Route matched with "{action = \"Save\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Save(CRMSystem.Domains.Sale)" on controller "CRMSystem.Presentation.SaleController" ("CRMSystem.Presentation.Core").
2020-08-15 09:35:13.194 +01:00 [Warning] No type was specified for the decimal column '"Amount"' on entity type '"Invoice"'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2020-08-15 09:35:13.196 +01:00 [Warning] No type was specified for the decimal column '"AmountPaid"' on entity type '"Invoice"'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2020-08-15 09:35:13.200 +01:00 [Warning] No type was specified for the decimal column '"Balance"' on entity type '"Invoice"'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2020-08-15 09:35:13.200 +01:00 [Warning] No type was specified for the decimal column '"Discount"' on entity type '"Invoice"'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2020-08-15 09:35:13.200 +01:00 [Warning] No type was specified for the decimal column '"Tax"' on entity type '"Invoice"'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2020-08-15 09:35:13.200 +01:00 [Warning] No type was specified for the decimal column '"TaxPercent"' on entity type '"Invoice"'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2020-08-15 09:35:13.201 +01:00 [Warning] No type was specified for the decimal column '"Amount"' on entity type '"Item"'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2020-08-15 09:35:13.201 +01:00 [Warning] No type was specified for the decimal column '"Amount"' on entity type '"Payment"'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2020-08-15 09:35:13.202 +01:00 [Warning] No type was specified for the decimal column '"CostPrice"' on entity type '"Price"'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2020-08-15 09:35:13.202 +01:00 [Warning] No type was specified for the decimal column '"SalePrice"' on entity type '"Price"'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2020-08-15 09:35:13.202 +01:00 [Warning] No type was specified for the decimal column '"CostPrice"' on entity type '"Product"'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2020-08-15 09:35:13.202 +01:00 [Warning] No type was specified for the decimal column '"SalePrice"' on entity type '"Product"'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2020-08-15 09:35:13.202 +01:00 [Warning] No type was specified for the decimal column '"CompetencyValue"' on entity type '"StaffSkill"'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2020-08-15 09:35:13.297 +01:00 [Information] Entity Framework Core "3.1.4" initialized '"TContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=CRMSystem.Presentation.Core "
2020-08-15 09:35:14.691 +01:00 [Information] Executed DbCommand ("334"ms) [Parameters=["@p0='?' (DbType = Decimal), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [Carts] ([Amount], [Code], [DateCreated], [DateModified], [UserCreated], [UserModified])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT [ID]
FROM [Carts]
WHERE @@ROWCOUNT = 1 AND [ID] = scope_identity();"
2020-08-15 09:35:15.285 +01:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__ID_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [p].[ID], [p].[CostPrice], [p].[DateCreated], [p].[DateModified], [p].[Description], [p].[Image], [p].[Location], [p].[Name], [p].[Quantity], [p].[SalePrice], [p].[StockLevel], [p].[TotalSold], [p].[UserCreated], [p].[UserModified]
FROM [Products] AS [p]
WHERE [p].[ID] = @__ID_0"
2020-08-15 09:35:15.417 +01:00 [Information] Executed action "CRMSystem.Presentation.SaleController.Save (CRMSystem.Presentation.Core)" in 3962.3085ms
2020-08-15 09:35:15.419 +01:00 [Information] Executed endpoint '"CRMSystem.Presentation.SaleController.Save (CRMSystem.Presentation.Core)"'
2020-08-15 09:35:15.714 +01:00 [Error] An unhandled exception has occurred while executing the request.
System.NullReferenceException: Object reference not set to an instance of an object.
   at CRMSystem.Domains.CartService.SaveCart(Cart data) in C:\Users\PC\Source\Repos\kolatcole\TunnexCRM\CRMSystem.Domains.Core\Implementations\CartService.cs:line 37
   at CRMSystem.Domains.SaleService.Save(Sale data) in C:\Users\PC\Source\Repos\kolatcole\TunnexCRM\CRMSystem.Domains.Core\Implementations\SaleService.cs:line 40
   at CRMSystem.Presentation.SaleController.Save(Sale data) in C:\Users\PC\Source\Repos\kolatcole\TunnexCRM\TunnexCRM\Controllers\SaleController.cs:line 32
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|24_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2020-08-15 09:35:15.747 +01:00 [Information] Request finished in 4415.4378ms 500 text/plain
2020-08-15 09:37:48.938 +01:00 [Information] Request starting HTTP/2.0 POST https://localhost:44363/api/Sale/SaveSale application/json 1871
2020-08-15 09:37:48.945 +01:00 [Information] CORS policy execution successful.
2020-08-15 09:37:48.946 +01:00 [Information] Executing endpoint '"CRMSystem.Presentation.SaleController.Save (CRMSystem.Presentation.Core)"'
2020-08-15 09:37:48.947 +01:00 [Information] Route matched with "{action = \"Save\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Save(CRMSystem.Domains.Sale)" on controller "CRMSystem.Presentation.SaleController" ("CRMSystem.Presentation.Core").
2020-08-15 09:37:49.081 +01:00 [Information] Entity Framework Core "3.1.4" initialized '"TContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=CRMSystem.Presentation.Core "
2020-08-15 09:37:49.092 +01:00 [Information] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (DbType = Decimal), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [Carts] ([Amount], [Code], [DateCreated], [DateModified], [UserCreated], [UserModified])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT [ID]
FROM [Carts]
WHERE @@ROWCOUNT = 1 AND [ID] = scope_identity();"
2020-08-15 09:37:49.116 +01:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__ID_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [p].[ID], [p].[CostPrice], [p].[DateCreated], [p].[DateModified], [p].[Description], [p].[Image], [p].[Location], [p].[Name], [p].[Quantity], [p].[SalePrice], [p].[StockLevel], [p].[TotalSold], [p].[UserCreated], [p].[UserModified]
FROM [Products] AS [p]
WHERE [p].[ID] = @__ID_0"
2020-08-15 09:37:49.236 +01:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@p13='?' (DbType = Int32), @p0='?' (DbType = Decimal), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int32), @p8='?' (DbType = Decimal), @p9='?' (DbType = Int32), @p10='?' (DbType = Int32), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [Products] SET [CostPrice] = @p0, [DateCreated] = @p1, [DateModified] = @p2, [Description] = @p3, [Image] = @p4, [Location] = @p5, [Name] = @p6, [Quantity] = @p7, [SalePrice] = @p8, [StockLevel] = @p9, [TotalSold] = @p10, [UserCreated] = @p11, [UserModified] = @p12
WHERE [ID] = @p13;
SELECT @@ROWCOUNT;"
2020-08-15 09:37:49.345 +01:00 [Information] Executed DbCommand ("43"ms) [Parameters=["@p0='?' (DbType = Decimal), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [Items] ([Amount], [CartID], [Code], [Name], [ProductID], [Quantity])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT [ID]
FROM [Items]
WHERE @@ROWCOUNT = 1 AND [ID] = scope_identity();"
2020-08-15 09:37:49.370 +01:00 [Information] Executed DbCommand ("2"ms) [Parameters=["@__data_ID_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [c].[ID], [c].[Amount], [c].[Code], [c].[DateCreated], [c].[DateModified], [c].[UserCreated], [c].[UserModified]
FROM [Carts] AS [c]
WHERE [c].[ID] = @__data_ID_0"
2020-08-15 09:37:49.380 +01:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@p6='?' (DbType = Int32), @p0='?' (DbType = Decimal), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [Carts] SET [Amount] = @p0, [Code] = @p1, [DateCreated] = @p2, [DateModified] = @p3, [UserCreated] = @p4, [UserModified] = @p5
WHERE [ID] = @p6;
SELECT @@ROWCOUNT;"
2020-08-15 09:37:49.460 +01:00 [Information] Executed DbCommand ("24"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [i].[ID]
FROM [Invoices] AS [i]
ORDER BY [i].[ID] DESC"
2020-08-15 09:37:49.580 +01:00 [Information] Executed DbCommand ("10"ms) [Parameters=["@p0='?' (DbType = Decimal), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [Payments] ([Amount], [CustomerID], [DatePaid], [InvoiceNo], [Method], [Reference], [SaleID], [UserCreated])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
SELECT [ID]
FROM [Payments]
WHERE @@ROWCOUNT = 1 AND [ID] = scope_identity();"
2020-08-15 09:37:49.702 +01:00 [Information] Executed DbCommand ("21"ms) [Parameters=["@p0='?' (DbType = Decimal), @p1='?' (DbType = Decimal), @p2='?' (DbType = Decimal), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime2), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Decimal), @p9='?' (Size = 4000), @p10='?' (DbType = DateTime2), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (DbType = Decimal), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = Decimal), @p17='?' (DbType = Int32), @p18='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [Invoices] ([Amount], [AmountPaid], [Balance], [CartID], [CashierID], [CustomerID], [DateCreated], [DateModified], [Discount], [ExtData], [InvoiceDate], [InvoiceNo], [IsPaid], [Tax], [TaxInclusive], [TaxName], [TaxPercent], [UserCreated], [UserModified])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18);
SELECT [ID]
FROM [Invoices]
WHERE @@ROWCOUNT = 1 AND [ID] = scope_identity();"
2020-08-15 09:37:49.744 +01:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[ID], [c].[Address], [c].[DateCreated], [c].[DateModified], [c].[Email], [c].[FirstName], [c].[Gender], [c].[Image], [c].[LastName], [c].[Phone], [c].[TotalSales], [c].[UserCreated], [c].[UserModified]
FROM [Customers] AS [c]
WHERE [c].[ID] = @__p_0"
2020-08-15 09:37:49.781 +01:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@p12='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (Size = 4000), @p9='?' (DbType = Int32), @p10='?' (DbType = Int32), @p11='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [Customers] SET [Address] = @p0, [DateCreated] = @p1, [DateModified] = @p2, [Email] = @p3, [FirstName] = @p4, [Gender] = @p5, [Image] = @p6, [LastName] = @p7, [Phone] = @p8, [TotalSales] = @p9, [UserCreated] = @p10, [UserModified] = @p11
WHERE [ID] = @p12;
SELECT @@ROWCOUNT;"
2020-08-15 09:37:49.819 +01:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [Sales] ([CartID], [CustomerID], [DateCreated], [DateModified], [InvoiceID], [UserCreated], [UserModified])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT [ID]
FROM [Sales]
WHERE @@ROWCOUNT = 1 AND [ID] = scope_identity();"
2020-08-15 09:37:49.919 +01:00 [Information] Executed DbCommand ("41"ms) [Parameters=["@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [Waybills] ([DateCreated], [InvoiceNo], [UserCreated])
VALUES (@p0, @p1, @p2);
SELECT [ID]
FROM [Waybills]
WHERE @@ROWCOUNT = 1 AND [ID] = scope_identity();"
2020-08-15 09:37:49.950 +01:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [WaybillProducts] ([ProductID], [WaybillID])
VALUES (@p0, @p1);
SELECT [ID]
FROM [WaybillProducts]
WHERE @@ROWCOUNT = 1 AND [ID] = scope_identity();"
2020-08-15 09:37:49.962 +01:00 [Information] Executing ObjectResult, writing value of type '"System.Int32"'.
2020-08-15 09:37:49.967 +01:00 [Information] Executed action "CRMSystem.Presentation.SaleController.Save (CRMSystem.Presentation.Core)" in 1020.0297ms
2020-08-15 09:37:49.968 +01:00 [Information] Executed endpoint '"CRMSystem.Presentation.SaleController.Save (CRMSystem.Presentation.Core)"'
2020-08-15 09:37:49.968 +01:00 [Information] Request finished in 1030.6662ms 200 application/json; charset=utf-8
2020-08-15 09:38:25.152 +01:00 [Information] Request starting HTTP/2.0 GET https://localhost:44363/api/Sale/GetWaybillByDate/0/0  
2020-08-15 09:38:25.155 +01:00 [Information] Executing endpoint '"CRMSystem.Presentation.SaleController.GetWaybillByDate (CRMSystem.Presentation.Core)"'
2020-08-15 09:38:25.198 +01:00 [Information] Route matched with "{action = \"GetWaybillByDate\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetWaybillByDate(System.String, System.String)" on controller "CRMSystem.Presentation.SaleController" ("CRMSystem.Presentation.Core").
2020-08-15 09:38:25.239 +01:00 [Information] Entity Framework Core "3.1.4" initialized '"TContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=CRMSystem.Presentation.Core "
2020-08-15 09:38:25.503 +01:00 [Information] Executed DbCommand ("158"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [w].[ID], [w].[DateCreated], [w].[InvoiceNo], [w].[UserCreated], [w0].[ID], [w0].[ProductID], [w0].[WaybillID]
FROM [Waybills] AS [w]
LEFT JOIN [WaybillProducts] AS [w0] ON [w].[ID] = [w0].[WaybillID]
ORDER BY [w].[ID], [w0].[ID]"
2020-08-15 09:38:25.516 +01:00 [Information] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[CRMSystem.Domains.Waybill, CRMSystem.Domains.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2020-08-15 09:38:25.525 +01:00 [Information] Executed action "CRMSystem.Presentation.SaleController.GetWaybillByDate (CRMSystem.Presentation.Core)" in 326.5014ms
2020-08-15 09:38:25.525 +01:00 [Information] Executed endpoint '"CRMSystem.Presentation.SaleController.GetWaybillByDate (CRMSystem.Presentation.Core)"'
2020-08-15 09:38:25.529 +01:00 [Information] Request finished in 376.6898ms 200 application/json; charset=utf-8
2020-08-15 09:39:00.317 +01:00 [Information] Request starting HTTP/2.0 GET https://localhost:44363/api/Sale/GetSalesReportByDate/0/0  
2020-08-15 09:39:00.319 +01:00 [Information] Executing endpoint '"CRMSystem.Presentation.SaleController.GetSalesReportByDate (CRMSystem.Presentation.Core)"'
2020-08-15 09:39:00.329 +01:00 [Information] Route matched with "{action = \"GetSalesReportByDate\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSalesReportByDate(Int32, System.String, System.String)" on controller "CRMSystem.Presentation.SaleController" ("CRMSystem.Presentation.Core").
2020-08-15 09:39:00.340 +01:00 [Information] Entity Framework Core "3.1.4" initialized '"TContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=CRMSystem.Presentation.Core "
2020-08-15 09:39:00.714 +01:00 [Information] Executed DbCommand ("299"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[CartID], [s].[CustomerID], [s].[DateCreated], [s].[DateModified], [s].[InvoiceID], [s].[UserCreated], [s].[UserModified], [i].[ID], [i].[Amount], [i].[AmountPaid], [i].[Balance], [i].[CartID], [i].[CashierID], [i].[CustomerID], [i].[DateCreated], [i].[DateModified], [i].[Discount], [i].[ExtData], [i].[InvoiceDate], [i].[InvoiceNo], [i].[IsPaid], [i].[Tax], [i].[TaxInclusive], [i].[TaxName], [i].[TaxPercent], [i].[UserCreated], [i].[UserModified], [c].[ID], [c].[Amount], [c].[Code], [c].[DateCreated], [c].[DateModified], [c].[UserCreated], [c].[UserModified], [i0].[ID], [i0].[Amount], [i0].[CartID], [i0].[Code], [i0].[Name], [i0].[ProductID], [i0].[Quantity]
FROM [Sales] AS [s]
INNER JOIN [Invoices] AS [i] ON [s].[InvoiceID] = [i].[ID]
INNER JOIN [Carts] AS [c] ON [s].[CartID] = [c].[ID]
LEFT JOIN [Items] AS [i0] ON [c].[ID] = [i0].[CartID]
ORDER BY [s].[ID], [i].[ID], [c].[ID], [i0].[ID]"
2020-08-15 09:39:00.765 +01:00 [Information] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[CRMSystem.Domains.Sale, CRMSystem.Domains.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2020-08-15 09:39:00.786 +01:00 [Information] Executed action "CRMSystem.Presentation.SaleController.GetSalesReportByDate (CRMSystem.Presentation.Core)" in 456.8111ms
2020-08-15 09:39:00.787 +01:00 [Information] Executed endpoint '"CRMSystem.Presentation.SaleController.GetSalesReportByDate (CRMSystem.Presentation.Core)"'
2020-08-15 09:39:00.789 +01:00 [Information] Request finished in 472.2303ms 200 application/json; charset=utf-8
2020-08-15 09:42:49.033 +01:00 [Information] Request starting HTTP/2.0 GET https://localhost:44363/api/Product/GetProductByID/8  
2020-08-15 09:42:49.036 +01:00 [Information] Executing endpoint '"CRMSystem.Presentation.ProductController.GetProductByID (CRMSystem.Presentation.Core)"'
2020-08-15 09:42:49.069 +01:00 [Information] Route matched with "{action = \"GetProductByID\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProductByID(Int32)" on controller "CRMSystem.Presentation.ProductController" ("CRMSystem.Presentation.Core").
2020-08-15 09:42:50.168 +01:00 [Information] Entity Framework Core "3.1.4" initialized '"TContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=CRMSystem.Presentation.Core "
2020-08-15 09:42:50.172 +01:00 [Information] Executed DbCommand ("1"ms) [Parameters=["@__ID_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [p].[ID], [p].[CostPrice], [p].[DateCreated], [p].[DateModified], [p].[Description], [p].[Image], [p].[Location], [p].[Name], [p].[Quantity], [p].[SalePrice], [p].[StockLevel], [p].[TotalSold], [p].[UserCreated], [p].[UserModified]
FROM [Products] AS [p]
WHERE [p].[ID] = @__ID_0"
2020-08-15 09:42:50.175 +01:00 [Information] Executing ObjectResult, writing value of type '"CRMSystem.Domains.Product"'.
2020-08-15 09:42:50.183 +01:00 [Information] Executed action "CRMSystem.Presentation.ProductController.GetProductByID (CRMSystem.Presentation.Core)" in 1111.0115ms
2020-08-15 09:42:50.183 +01:00 [Information] Executed endpoint '"CRMSystem.Presentation.ProductController.GetProductByID (CRMSystem.Presentation.Core)"'
2020-08-15 09:42:50.187 +01:00 [Information] Request finished in 1151.7249ms 200 application/json; charset=utf-8
2020-08-15 09:43:23.387 +01:00 [Information] Request starting HTTP/2.0 GET https://localhost:44363/api/Product/GetAllProducts  
2020-08-15 09:43:23.393 +01:00 [Information] Executing endpoint '"CRMSystem.Presentation.ProductController.GetAllProducts (CRMSystem.Presentation.Core)"'
2020-08-15 09:43:23.403 +01:00 [Information] Route matched with "{action = \"GetAllProducts\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllProducts()" on controller "CRMSystem.Presentation.ProductController" ("CRMSystem.Presentation.Core").
2020-08-15 09:43:23.411 +01:00 [Information] Entity Framework Core "3.1.4" initialized '"TContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=CRMSystem.Presentation.Core "
2020-08-15 09:43:23.430 +01:00 [Information] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [p].[ID], [p].[CostPrice], [p].[DateCreated], [p].[DateModified], [p].[Description], [p].[Image], [p].[Location], [p].[Name], [p].[Quantity], [p].[SalePrice], [p].[StockLevel], [p].[TotalSold], [p].[UserCreated], [p].[UserModified]
FROM [Products] AS [p]"
2020-08-15 09:43:23.435 +01:00 [Information] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[CRMSystem.Domains.Product, CRMSystem.Domains.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2020-08-15 09:43:23.438 +01:00 [Information] Executed action "CRMSystem.Presentation.ProductController.GetAllProducts (CRMSystem.Presentation.Core)" in 35.5208ms
2020-08-15 09:43:23.439 +01:00 [Information] Executed endpoint '"CRMSystem.Presentation.ProductController.GetAllProducts (CRMSystem.Presentation.Core)"'
2020-08-15 09:43:23.439 +01:00 [Information] Request finished in 53.0114ms 200 application/json; charset=utf-8
2020-08-15 09:46:54.684 +01:00 [Information] Request starting HTTP/2.0 POST https://localhost:44363/api/Sale/SaveSale application/json 3014
2020-08-15 09:46:54.685 +01:00 [Information] CORS policy execution successful.
2020-08-15 09:46:54.686 +01:00 [Information] Executing endpoint '"CRMSystem.Presentation.SaleController.Save (CRMSystem.Presentation.Core)"'
2020-08-15 09:46:54.687 +01:00 [Information] Route matched with "{action = \"Save\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Save(CRMSystem.Domains.Sale)" on controller "CRMSystem.Presentation.SaleController" ("CRMSystem.Presentation.Core").
2020-08-15 09:46:56.334 +01:00 [Information] Executing ObjectResult, writing value of type '"Microsoft.AspNetCore.Mvc.ValidationProblemDetails"'.
2020-08-15 09:46:56.339 +01:00 [Information] Executed action "CRMSystem.Presentation.SaleController.Save (CRMSystem.Presentation.Core)" in 1651.7806ms
2020-08-15 09:46:56.340 +01:00 [Information] Executed endpoint '"CRMSystem.Presentation.SaleController.Save (CRMSystem.Presentation.Core)"'
2020-08-15 09:46:56.340 +01:00 [Information] Request finished in 1656.8269ms 400 application/problem+json; charset=utf-8
2020-08-15 09:47:14.146 +01:00 [Information] Request starting HTTP/2.0 POST https://localhost:44363/api/Sale/SaveSale application/json 1962
2020-08-15 09:47:14.147 +01:00 [Information] CORS policy execution successful.
2020-08-15 09:47:14.147 +01:00 [Information] Executing endpoint '"CRMSystem.Presentation.SaleController.Save (CRMSystem.Presentation.Core)"'
2020-08-15 09:47:14.151 +01:00 [Information] Route matched with "{action = \"Save\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Save(CRMSystem.Domains.Sale)" on controller "CRMSystem.Presentation.SaleController" ("CRMSystem.Presentation.Core").
2020-08-15 09:47:14.157 +01:00 [Information] Entity Framework Core "3.1.4" initialized '"TContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=CRMSystem.Presentation.Core "
2020-08-15 09:47:14.177 +01:00 [Information] Executed DbCommand ("7"ms) [Parameters=["@p0='?' (DbType = Decimal), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [Carts] ([Amount], [Code], [DateCreated], [DateModified], [UserCreated], [UserModified])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT [ID]
FROM [Carts]
WHERE @@ROWCOUNT = 1 AND [ID] = scope_identity();"
2020-08-15 09:47:14.223 +01:00 [Information] Executed DbCommand ("13"ms) [Parameters=["@__ID_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [p].[ID], [p].[CostPrice], [p].[DateCreated], [p].[DateModified], [p].[Description], [p].[Image], [p].[Location], [p].[Name], [p].[Quantity], [p].[SalePrice], [p].[StockLevel], [p].[TotalSold], [p].[UserCreated], [p].[UserModified]
FROM [Products] AS [p]
WHERE [p].[ID] = @__ID_0"
2020-08-15 09:47:14.250 +01:00 [Information] Executed DbCommand ("9"ms) [Parameters=["@p13='?' (DbType = Int32), @p0='?' (DbType = Decimal), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int32), @p8='?' (DbType = Decimal), @p9='?' (DbType = Int32), @p10='?' (DbType = Int32), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [Products] SET [CostPrice] = @p0, [DateCreated] = @p1, [DateModified] = @p2, [Description] = @p3, [Image] = @p4, [Location] = @p5, [Name] = @p6, [Quantity] = @p7, [SalePrice] = @p8, [StockLevel] = @p9, [TotalSold] = @p10, [UserCreated] = @p11, [UserModified] = @p12
WHERE [ID] = @p13;
SELECT @@ROWCOUNT;"
2020-08-15 09:47:14.258 +01:00 [Information] Executed DbCommand ("2"ms) [Parameters=["@__ID_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [p].[ID], [p].[CostPrice], [p].[DateCreated], [p].[DateModified], [p].[Description], [p].[Image], [p].[Location], [p].[Name], [p].[Quantity], [p].[SalePrice], [p].[StockLevel], [p].[TotalSold], [p].[UserCreated], [p].[UserModified]
FROM [Products] AS [p]
WHERE [p].[ID] = @__ID_0"
2020-08-15 09:47:14.281 +01:00 [Information] Executed DbCommand ("11"ms) [Parameters=["@p13='?' (DbType = Int32), @p0='?' (DbType = Decimal), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int32), @p8='?' (DbType = Decimal), @p9='?' (DbType = Int32), @p10='?' (DbType = Int32), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [Products] SET [CostPrice] = @p0, [DateCreated] = @p1, [DateModified] = @p2, [Description] = @p3, [Image] = @p4, [Location] = @p5, [Name] = @p6, [Quantity] = @p7, [SalePrice] = @p8, [StockLevel] = @p9, [TotalSold] = @p10, [UserCreated] = @p11, [UserModified] = @p12
WHERE [ID] = @p13;
SELECT @@ROWCOUNT;"
2020-08-15 09:47:14.301 +01:00 [Information] Executed DbCommand ("2"ms) [Parameters=["@p0='?' (DbType = Decimal), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [Items] ([Amount], [CartID], [Code], [Name], [ProductID], [Quantity])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT [ID]
FROM [Items]
WHERE @@ROWCOUNT = 1 AND [ID] = scope_identity();"
2020-08-15 09:47:14.303 +01:00 [Information] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (DbType = Decimal), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [Items] ([Amount], [CartID], [Code], [Name], [ProductID], [Quantity])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT [ID]
FROM [Items]
WHERE @@ROWCOUNT = 1 AND [ID] = scope_identity();"
2020-08-15 09:47:14.309 +01:00 [Information] Executed DbCommand ("1"ms) [Parameters=["@__data_ID_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [c].[ID], [c].[Amount], [c].[Code], [c].[DateCreated], [c].[DateModified], [c].[UserCreated], [c].[UserModified]
FROM [Carts] AS [c]
WHERE [c].[ID] = @__data_ID_0"
2020-08-15 09:47:14.316 +01:00 [Information] Executed DbCommand ("1"ms) [Parameters=["@p6='?' (DbType = Int32), @p0='?' (DbType = Decimal), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [Carts] SET [Amount] = @p0, [Code] = @p1, [DateCreated] = @p2, [DateModified] = @p3, [UserCreated] = @p4, [UserModified] = @p5
WHERE [ID] = @p6;
SELECT @@ROWCOUNT;"
2020-08-15 09:47:14.320 +01:00 [Information] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [i].[ID]
FROM [Invoices] AS [i]
ORDER BY [i].[ID] DESC"
2020-08-15 09:47:14.328 +01:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@p0='?' (DbType = Decimal), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [Payments] ([Amount], [CustomerID], [DatePaid], [InvoiceNo], [Method], [Reference], [SaleID], [UserCreated])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
SELECT [ID]
FROM [Payments]
WHERE @@ROWCOUNT = 1 AND [ID] = scope_identity();"
2020-08-15 09:47:14.334 +01:00 [Information] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (DbType = Decimal), @p1='?' (DbType = Decimal), @p2='?' (DbType = Decimal), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime2), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Decimal), @p9='?' (Size = 4000), @p10='?' (DbType = DateTime2), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (DbType = Decimal), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = Decimal), @p17='?' (DbType = Int32), @p18='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [Invoices] ([Amount], [AmountPaid], [Balance], [CartID], [CashierID], [CustomerID], [DateCreated], [DateModified], [Discount], [ExtData], [InvoiceDate], [InvoiceNo], [IsPaid], [Tax], [TaxInclusive], [TaxName], [TaxPercent], [UserCreated], [UserModified])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18);
SELECT [ID]
FROM [Invoices]
WHERE @@ROWCOUNT = 1 AND [ID] = scope_identity();"
2020-08-15 09:47:14.345 +01:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[ID], [c].[Address], [c].[DateCreated], [c].[DateModified], [c].[Email], [c].[FirstName], [c].[Gender], [c].[Image], [c].[LastName], [c].[Phone], [c].[TotalSales], [c].[UserCreated], [c].[UserModified]
FROM [Customers] AS [c]
WHERE [c].[ID] = @__p_0"
2020-08-15 09:47:14.349 +01:00 [Information] Executed DbCommand ("1"ms) [Parameters=["@p12='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (Size = 4000), @p9='?' (DbType = Int32), @p10='?' (DbType = Int32), @p11='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [Customers] SET [Address] = @p0, [DateCreated] = @p1, [DateModified] = @p2, [Email] = @p3, [FirstName] = @p4, [Gender] = @p5, [Image] = @p6, [LastName] = @p7, [Phone] = @p8, [TotalSales] = @p9, [UserCreated] = @p10, [UserModified] = @p11
WHERE [ID] = @p12;
SELECT @@ROWCOUNT;"
2020-08-15 09:47:14.356 +01:00 [Information] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [Sales] ([CartID], [CustomerID], [DateCreated], [DateModified], [InvoiceID], [UserCreated], [UserModified])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT [ID]
FROM [Sales]
WHERE @@ROWCOUNT = 1 AND [ID] = scope_identity();"
2020-08-15 09:47:14.366 +01:00 [Information] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [Waybills] ([DateCreated], [InvoiceNo], [UserCreated])
VALUES (@p0, @p1, @p2);
SELECT [ID]
FROM [Waybills]
WHERE @@ROWCOUNT = 1 AND [ID] = scope_identity();"
2020-08-15 09:47:14.372 +01:00 [Information] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [WaybillProducts] ([ProductID], [WaybillID])
VALUES (@p0, @p1);
SELECT [ID]
FROM [WaybillProducts]
WHERE @@ROWCOUNT = 1 AND [ID] = scope_identity();"
2020-08-15 09:47:14.374 +01:00 [Information] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [WaybillProducts] ([ProductID], [WaybillID])
VALUES (@p0, @p1);
SELECT [ID]
FROM [WaybillProducts]
WHERE @@ROWCOUNT = 1 AND [ID] = scope_identity();"
2020-08-15 09:47:14.376 +01:00 [Information] Executing ObjectResult, writing value of type '"System.Int32"'.
2020-08-15 09:47:14.378 +01:00 [Information] Executed action "CRMSystem.Presentation.SaleController.Save (CRMSystem.Presentation.Core)" in 226.9247ms
2020-08-15 09:47:14.379 +01:00 [Information] Executed endpoint '"CRMSystem.Presentation.SaleController.Save (CRMSystem.Presentation.Core)"'
2020-08-15 09:47:14.379 +01:00 [Information] Request finished in 233.4885ms 200 application/json; charset=utf-8
2020-08-15 09:47:24.438 +01:00 [Information] Request starting HTTP/2.0 GET https://localhost:44363/api/Sale/GetWaybillByDate/0/0  
2020-08-15 09:47:24.439 +01:00 [Information] Executing endpoint '"CRMSystem.Presentation.SaleController.GetWaybillByDate (CRMSystem.Presentation.Core)"'
2020-08-15 09:47:24.440 +01:00 [Information] Route matched with "{action = \"GetWaybillByDate\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetWaybillByDate(System.String, System.String)" on controller "CRMSystem.Presentation.SaleController" ("CRMSystem.Presentation.Core").
2020-08-15 09:47:24.445 +01:00 [Information] Entity Framework Core "3.1.4" initialized '"TContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=CRMSystem.Presentation.Core "
2020-08-15 09:47:24.450 +01:00 [Information] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [w].[ID], [w].[DateCreated], [w].[InvoiceNo], [w].[UserCreated], [w0].[ID], [w0].[ProductID], [w0].[WaybillID]
FROM [Waybills] AS [w]
LEFT JOIN [WaybillProducts] AS [w0] ON [w].[ID] = [w0].[WaybillID]
ORDER BY [w].[ID], [w0].[ID]"
2020-08-15 09:47:24.452 +01:00 [Information] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[CRMSystem.Domains.Waybill, CRMSystem.Domains.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2020-08-15 09:47:24.454 +01:00 [Information] Executed action "CRMSystem.Presentation.SaleController.GetWaybillByDate (CRMSystem.Presentation.Core)" in 13.381ms
2020-08-15 09:47:24.454 +01:00 [Information] Executed endpoint '"CRMSystem.Presentation.SaleController.GetWaybillByDate (CRMSystem.Presentation.Core)"'
2020-08-15 09:47:24.455 +01:00 [Information] Request finished in 16.5778ms 200 application/json; charset=utf-8
2020-08-15 09:51:53.294 +01:00 [Information] Request starting HTTP/2.0 GET https://localhost:44363/api/values  
2020-08-15 09:51:53.298 +01:00 [Information] Request finished in 2.6263ms 404 
2020-08-15 09:51:59.444 +01:00 [Information] Request starting HTTP/2.0 GET https://localhost:44363/swagger/index.html  
2020-08-15 09:51:59.456 +01:00 [Information] Request finished in 12.8053ms 200 text/html;charset=utf-8
2020-08-15 09:51:59.696 +01:00 [Information] Request starting HTTP/2.0 GET https://localhost:44363/swagger/v1/swagger.json  
2020-08-15 09:51:59.783 +01:00 [Information] Request finished in 87.7187ms 200 application/json;charset=utf-8
2020-08-15 09:52:24.262 +01:00 [Information] Request starting HTTP/2.0 GET https://localhost:44363/api/Sale/GetSalesReportByDate/0/0  
2020-08-15 09:52:24.263 +01:00 [Information] Executing endpoint '"CRMSystem.Presentation.SaleController.GetSalesReportByDate (CRMSystem.Presentation.Core)"'
2020-08-15 09:52:24.264 +01:00 [Information] Route matched with "{action = \"GetSalesReportByDate\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSalesReportByDate(Int32, System.String, System.String)" on controller "CRMSystem.Presentation.SaleController" ("CRMSystem.Presentation.Core").
2020-08-15 09:52:24.269 +01:00 [Information] Entity Framework Core "3.1.4" initialized '"TContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=CRMSystem.Presentation.Core "
2020-08-15 09:52:24.327 +01:00 [Information] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[CartID], [s].[CustomerID], [s].[DateCreated], [s].[DateModified], [s].[InvoiceID], [s].[UserCreated], [s].[UserModified], [i].[ID], [i].[Amount], [i].[AmountPaid], [i].[Balance], [i].[CartID], [i].[CashierID], [i].[CustomerID], [i].[DateCreated], [i].[DateModified], [i].[Discount], [i].[ExtData], [i].[InvoiceDate], [i].[InvoiceNo], [i].[IsPaid], [i].[Tax], [i].[TaxInclusive], [i].[TaxName], [i].[TaxPercent], [i].[UserCreated], [i].[UserModified], [c].[ID], [c].[Amount], [c].[Code], [c].[DateCreated], [c].[DateModified], [c].[UserCreated], [c].[UserModified], [i0].[ID], [i0].[Amount], [i0].[CartID], [i0].[Code], [i0].[Name], [i0].[ProductID], [i0].[Quantity]
FROM [Sales] AS [s]
INNER JOIN [Invoices] AS [i] ON [s].[InvoiceID] = [i].[ID]
INNER JOIN [Carts] AS [c] ON [s].[CartID] = [c].[ID]
LEFT JOIN [Items] AS [i0] ON [c].[ID] = [i0].[CartID]
ORDER BY [s].[ID], [i].[ID], [c].[ID], [i0].[ID]"
2020-08-15 09:52:24.334 +01:00 [Information] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[CRMSystem.Domains.Sale, CRMSystem.Domains.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2020-08-15 09:52:24.341 +01:00 [Information] Executed action "CRMSystem.Presentation.SaleController.GetSalesReportByDate (CRMSystem.Presentation.Core)" in 76.6332ms
2020-08-15 09:52:24.343 +01:00 [Information] Executed endpoint '"CRMSystem.Presentation.SaleController.GetSalesReportByDate (CRMSystem.Presentation.Core)"'
2020-08-15 09:52:24.343 +01:00 [Information] Request finished in 81.325ms 200 application/json; charset=utf-8
2020-08-15 10:56:59.345 +01:00 [Information] User profile is available. Using '"C:\Users\PC\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
2020-08-15 10:56:59.656 +01:00 [Information] Request starting HTTP/2.0 GET https://localhost:44363/api/values  
2020-08-15 10:56:59.855 +01:00 [Information] Request finished in 206.3942ms 404 
2020-08-15 10:57:03.492 +01:00 [Information] Request starting HTTP/2.0 GET https://localhost:44363/swagger/index.html  
2020-08-15 10:57:03.568 +01:00 [Information] Request finished in 76.6461ms 200 text/html;charset=utf-8
2020-08-15 10:57:03.819 +01:00 [Information] Request starting HTTP/2.0 GET https://localhost:44363/swagger/v1/swagger.json  
2020-08-15 10:57:03.895 +01:00 [Information] Request starting HTTP/2.0 GET https://localhost:44363/swagger/favicon-32x32.png  
2020-08-15 10:57:03.999 +01:00 [Information] The file "/favicon-32x32.png" was not modified
2020-08-15 10:57:04.002 +01:00 [Information] Request finished in 106.9312ms 304 image/png
2020-08-15 10:57:04.096 +01:00 [Information] Request finished in 277.8684ms 200 application/json;charset=utf-8
2020-08-15 10:57:27.473 +01:00 [Information] Request starting HTTP/2.0 GET https://localhost:44363/api/Payment/GetFreePayments?sDate=0&eDate=0  
2020-08-15 10:57:27.519 +01:00 [Information] Executing endpoint '"CRMSystem.Presentation.PaymentController.GetFreePayments (CRMSystem.Presentation.Core)"'
2020-08-15 10:57:27.597 +01:00 [Information] Route matched with "{action = \"GetFreePayments\", controller = \"Payment\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFreePayments(Int32, System.String, System.String)" on controller "CRMSystem.Presentation.PaymentController" ("CRMSystem.Presentation.Core").
2020-08-15 10:57:29.452 +01:00 [Warning] No type was specified for the decimal column '"Amount"' on entity type '"Invoice"'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2020-08-15 10:57:29.453 +01:00 [Warning] No type was specified for the decimal column '"AmountPaid"' on entity type '"Invoice"'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2020-08-15 10:57:29.453 +01:00 [Warning] No type was specified for the decimal column '"Balance"' on entity type '"Invoice"'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2020-08-15 10:57:29.453 +01:00 [Warning] No type was specified for the decimal column '"Discount"' on entity type '"Invoice"'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2020-08-15 10:57:29.454 +01:00 [Warning] No type was specified for the decimal column '"Tax"' on entity type '"Invoice"'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2020-08-15 10:57:29.454 +01:00 [Warning] No type was specified for the decimal column '"TaxPercent"' on entity type '"Invoice"'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2020-08-15 10:57:29.454 +01:00 [Warning] No type was specified for the decimal column '"Amount"' on entity type '"Item"'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2020-08-15 10:57:29.454 +01:00 [Warning] No type was specified for the decimal column '"Amount"' on entity type '"Payment"'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2020-08-15 10:57:29.454 +01:00 [Warning] No type was specified for the decimal column '"CostPrice"' on entity type '"Price"'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2020-08-15 10:57:29.454 +01:00 [Warning] No type was specified for the decimal column '"SalePrice"' on entity type '"Price"'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2020-08-15 10:57:29.455 +01:00 [Warning] No type was specified for the decimal column '"CostPrice"' on entity type '"Product"'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2020-08-15 10:57:29.455 +01:00 [Warning] No type was specified for the decimal column '"SalePrice"' on entity type '"Product"'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2020-08-15 10:57:29.455 +01:00 [Warning] No type was specified for the decimal column '"CompetencyValue"' on entity type '"StaffSkill"'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2020-08-15 10:57:29.530 +01:00 [Information] Entity Framework Core "3.1.4" initialized '"TContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=CRMSystem.Presentation.Core "
2020-08-15 10:57:30.773 +01:00 [Information] Executed DbCommand ("351"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [p].[ID], [p].[Amount], [p].[CustomerID], [p].[DatePaid], [p].[InvoiceNo], [p].[Method], [p].[Reference], [p].[SaleID], [p].[UserCreated]
FROM [Payments] AS [p]
WHERE [p].[Method] = N'FOC'
ORDER BY [p].[DatePaid] DESC"
2020-08-15 10:57:30.831 +01:00 [Information] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[CRMSystem.Domains.Payment, CRMSystem.Domains.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2020-08-15 10:57:30.860 +01:00 [Information] Executed action "CRMSystem.Presentation.PaymentController.GetFreePayments (CRMSystem.Presentation.Core)" in 3249.1816ms
2020-08-15 10:57:30.862 +01:00 [Information] Executed endpoint '"CRMSystem.Presentation.PaymentController.GetFreePayments (CRMSystem.Presentation.Core)"'
2020-08-15 10:57:30.868 +01:00 [Information] Request finished in 3394.982ms 200 application/json; charset=utf-8
2020-08-15 10:58:06.065 +01:00 [Information] Request starting HTTP/2.0 POST https://localhost:44363/api/Sale/SaveSale application/json 1962
2020-08-15 10:58:06.088 +01:00 [Information] CORS policy execution successful.
2020-08-15 10:58:06.090 +01:00 [Information] Executing endpoint '"CRMSystem.Presentation.SaleController.Save (CRMSystem.Presentation.Core)"'
2020-08-15 10:58:06.108 +01:00 [Information] Route matched with "{action = \"Save\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Save(CRMSystem.Domains.Sale)" on controller "CRMSystem.Presentation.SaleController" ("CRMSystem.Presentation.Core").
2020-08-15 10:58:06.409 +01:00 [Information] Entity Framework Core "3.1.4" initialized '"TContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=CRMSystem.Presentation.Core "
2020-08-15 10:58:06.973 +01:00 [Information] Executed DbCommand ("77"ms) [Parameters=["@p0='?' (DbType = Decimal), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [Carts] ([Amount], [Code], [DateCreated], [DateModified], [UserCreated], [UserModified])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT [ID]
FROM [Carts]
WHERE @@ROWCOUNT = 1 AND [ID] = scope_identity();"
2020-08-15 10:58:07.210 +01:00 [Information] Executed DbCommand ("1"ms) [Parameters=["@__ID_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [p].[ID], [p].[CostPrice], [p].[DateCreated], [p].[DateModified], [p].[Description], [p].[Image], [p].[Location], [p].[Name], [p].[Quantity], [p].[SalePrice], [p].[StockLevel], [p].[TotalSold], [p].[UserCreated], [p].[UserModified]
FROM [Products] AS [p]
WHERE [p].[ID] = @__ID_0"
2020-08-15 10:58:07.290 +01:00 [Information] Executed DbCommand ("1"ms) [Parameters=["@p13='?' (DbType = Int32), @p0='?' (DbType = Decimal), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int32), @p8='?' (DbType = Decimal), @p9='?' (DbType = Int32), @p10='?' (DbType = Int32), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [Products] SET [CostPrice] = @p0, [DateCreated] = @p1, [DateModified] = @p2, [Description] = @p3, [Image] = @p4, [Location] = @p5, [Name] = @p6, [Quantity] = @p7, [SalePrice] = @p8, [StockLevel] = @p9, [TotalSold] = @p10, [UserCreated] = @p11, [UserModified] = @p12
WHERE [ID] = @p13;
SELECT @@ROWCOUNT;"
2020-08-15 10:58:07.305 +01:00 [Information] Executed DbCommand ("1"ms) [Parameters=["@__ID_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [p].[ID], [p].[CostPrice], [p].[DateCreated], [p].[DateModified], [p].[Description], [p].[Image], [p].[Location], [p].[Name], [p].[Quantity], [p].[SalePrice], [p].[StockLevel], [p].[TotalSold], [p].[UserCreated], [p].[UserModified]
FROM [Products] AS [p]
WHERE [p].[ID] = @__ID_0"
2020-08-15 10:58:07.310 +01:00 [Information] Executed DbCommand ("0"ms) [Parameters=["@p13='?' (DbType = Int32), @p0='?' (DbType = Decimal), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int32), @p8='?' (DbType = Decimal), @p9='?' (DbType = Int32), @p10='?' (DbType = Int32), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [Products] SET [CostPrice] = @p0, [DateCreated] = @p1, [DateModified] = @p2, [Description] = @p3, [Image] = @p4, [Location] = @p5, [Name] = @p6, [Quantity] = @p7, [SalePrice] = @p8, [StockLevel] = @p9, [TotalSold] = @p10, [UserCreated] = @p11, [UserModified] = @p12
WHERE [ID] = @p13;
SELECT @@ROWCOUNT;"
2020-08-15 10:58:07.363 +01:00 [Information] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (DbType = Decimal), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [Items] ([Amount], [CartID], [Code], [Name], [ProductID], [Quantity])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT [ID]
FROM [Items]
WHERE @@ROWCOUNT = 1 AND [ID] = scope_identity();"
2020-08-15 10:58:07.371 +01:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@p0='?' (DbType = Decimal), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [Items] ([Amount], [CartID], [Code], [Name], [ProductID], [Quantity])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT [ID]
FROM [Items]
WHERE @@ROWCOUNT = 1 AND [ID] = scope_identity();"
2020-08-15 10:58:07.391 +01:00 [Information] Executed DbCommand ("1"ms) [Parameters=["@__data_ID_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [c].[ID], [c].[Amount], [c].[Code], [c].[DateCreated], [c].[DateModified], [c].[UserCreated], [c].[UserModified]
FROM [Carts] AS [c]
WHERE [c].[ID] = @__data_ID_0"
2020-08-15 10:58:07.395 +01:00 [Information] Executed DbCommand ("0"ms) [Parameters=["@p6='?' (DbType = Int32), @p0='?' (DbType = Decimal), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [Carts] SET [Amount] = @p0, [Code] = @p1, [DateCreated] = @p2, [DateModified] = @p3, [UserCreated] = @p4, [UserModified] = @p5
WHERE [ID] = @p6;
SELECT @@ROWCOUNT;"
2020-08-15 10:58:07.439 +01:00 [Information] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [i].[ID]
FROM [Invoices] AS [i]
ORDER BY [i].[ID] DESC"
2020-08-15 10:58:07.521 +01:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@p0='?' (DbType = Decimal), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [Payments] ([Amount], [CustomerID], [DatePaid], [InvoiceNo], [Method], [Reference], [SaleID], [UserCreated])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
SELECT [ID]
FROM [Payments]
WHERE @@ROWCOUNT = 1 AND [ID] = scope_identity();"
2020-08-15 10:58:07.638 +01:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@p0='?' (DbType = Decimal), @p1='?' (DbType = Decimal), @p2='?' (DbType = Decimal), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime2), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Decimal), @p9='?' (Size = 4000), @p10='?' (DbType = DateTime2), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (DbType = Decimal), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = Decimal), @p17='?' (DbType = Int32), @p18='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [Invoices] ([Amount], [AmountPaid], [Balance], [CartID], [CashierID], [CustomerID], [DateCreated], [DateModified], [Discount], [ExtData], [InvoiceDate], [InvoiceNo], [IsPaid], [Tax], [TaxInclusive], [TaxName], [TaxPercent], [UserCreated], [UserModified])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18);
SELECT [ID]
FROM [Invoices]
WHERE @@ROWCOUNT = 1 AND [ID] = scope_identity();"
2020-08-15 10:58:07.691 +01:00 [Information] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[ID], [c].[Address], [c].[DateCreated], [c].[DateModified], [c].[Email], [c].[FirstName], [c].[Gender], [c].[Image], [c].[LastName], [c].[Phone], [c].[TotalSales], [c].[UserCreated], [c].[UserModified]
FROM [Customers] AS [c]
WHERE [c].[ID] = @__p_0"
2020-08-15 10:58:07.729 +01:00 [Information] Executed DbCommand ("1"ms) [Parameters=["@p12='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (Size = 4000), @p9='?' (DbType = Int32), @p10='?' (DbType = Int32), @p11='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [Customers] SET [Address] = @p0, [DateCreated] = @p1, [DateModified] = @p2, [Email] = @p3, [FirstName] = @p4, [Gender] = @p5, [Image] = @p6, [LastName] = @p7, [Phone] = @p8, [TotalSales] = @p9, [UserCreated] = @p10, [UserModified] = @p11
WHERE [ID] = @p12;
SELECT @@ROWCOUNT;"
2020-08-15 10:58:07.761 +01:00 [Information] Executed DbCommand ("0"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [Sales] ([CartID], [CustomerID], [DateCreated], [DateModified], [InvoiceID], [UserCreated], [UserModified])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT [ID]
FROM [Sales]
WHERE @@ROWCOUNT = 1 AND [ID] = scope_identity();"
2020-08-15 10:58:07.801 +01:00 [Information] Executed DbCommand ("2"ms) [Parameters=["@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [Waybills] ([DateCreated], [InvoiceNo], [UserCreated])
VALUES (@p0, @p1, @p2);
SELECT [ID]
FROM [Waybills]
WHERE @@ROWCOUNT = 1 AND [ID] = scope_identity();"
2020-08-15 10:58:07.824 +01:00 [Information] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [WaybillProducts] ([ProductID], [WaybillID])
VALUES (@p0, @p1);
SELECT [ID]
FROM [WaybillProducts]
WHERE @@ROWCOUNT = 1 AND [ID] = scope_identity();"
2020-08-15 10:58:07.828 +01:00 [Information] Executed DbCommand ("0"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [WaybillProducts] ([ProductID], [WaybillID])
VALUES (@p0, @p1);
SELECT [ID]
FROM [WaybillProducts]
WHERE @@ROWCOUNT = 1 AND [ID] = scope_identity();"
2020-08-15 10:58:07.830 +01:00 [Information] Executing ObjectResult, writing value of type '"System.Int32"'.
2020-08-15 10:58:07.834 +01:00 [Information] Executed action "CRMSystem.Presentation.SaleController.Save (CRMSystem.Presentation.Core)" in 1725.7676ms
2020-08-15 10:58:07.834 +01:00 [Information] Executed endpoint '"CRMSystem.Presentation.SaleController.Save (CRMSystem.Presentation.Core)"'
2020-08-15 10:58:07.835 +01:00 [Information] Request finished in 1771.0585ms 200 application/json; charset=utf-8
2020-08-15 10:58:15.729 +01:00 [Information] Request starting HTTP/2.0 GET https://localhost:44363/api/Sale/GetWaybillByDate/0/0  
2020-08-15 10:58:15.738 +01:00 [Information] Executing endpoint '"CRMSystem.Presentation.SaleController.GetWaybillByDate (CRMSystem.Presentation.Core)"'
2020-08-15 10:58:15.757 +01:00 [Information] Route matched with "{action = \"GetWaybillByDate\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetWaybillByDate(System.String, System.String)" on controller "CRMSystem.Presentation.SaleController" ("CRMSystem.Presentation.Core").
2020-08-15 10:58:15.795 +01:00 [Information] Entity Framework Core "3.1.4" initialized '"TContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=CRMSystem.Presentation.Core "
2020-08-15 10:58:15.898 +01:00 [Information] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [w].[ID], [w].[DateCreated], [w].[InvoiceNo], [w].[UserCreated], [w0].[ID], [w0].[ProductID], [w0].[WaybillID]
FROM [Waybills] AS [w]
LEFT JOIN [WaybillProducts] AS [w0] ON [w].[ID] = [w0].[WaybillID]
ORDER BY [w].[ID], [w0].[ID]"
2020-08-15 10:58:15.911 +01:00 [Information] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[CRMSystem.Domains.Waybill, CRMSystem.Domains.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2020-08-15 10:58:15.920 +01:00 [Information] Executed action "CRMSystem.Presentation.SaleController.GetWaybillByDate (CRMSystem.Presentation.Core)" in 159.8137ms
2020-08-15 10:58:15.922 +01:00 [Information] Executed endpoint '"CRMSystem.Presentation.SaleController.GetWaybillByDate (CRMSystem.Presentation.Core)"'
2020-08-15 10:58:15.922 +01:00 [Information] Request finished in 193.7382ms 200 application/json; charset=utf-8
2020-08-15 10:59:06.426 +01:00 [Information] Request starting HTTP/2.0 GET https://localhost:44363/api/Sale/GetSaleByID/32  
2020-08-15 10:59:06.429 +01:00 [Information] Executing endpoint '"CRMSystem.Presentation.SaleController.Get (CRMSystem.Presentation.Core)"'
2020-08-15 10:59:06.442 +01:00 [Information] Route matched with "{action = \"Get\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(Int32)" on controller "CRMSystem.Presentation.SaleController" ("CRMSystem.Presentation.Core").
2020-08-15 10:59:06.492 +01:00 [Information] Entity Framework Core "3.1.4" initialized '"TContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=CRMSystem.Presentation.Core "
2020-08-15 10:59:06.675 +01:00 [Information] Executed DbCommand ("9"ms) [Parameters=["@__ID_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[ID], [t].[CartID], [t].[CustomerID], [t].[DateCreated], [t].[DateModified], [t].[InvoiceID], [t].[UserCreated], [t].[UserModified], [t].[ID0], [t].[Amount], [t].[AmountPaid], [t].[Balance], [t].[CartID0], [t].[CashierID], [t].[CustomerID0], [t].[DateCreated0], [t].[DateModified0], [t].[Discount], [t].[ExtData], [t].[InvoiceDate], [t].[InvoiceNo], [t].[IsPaid], [t].[Tax], [t].[TaxInclusive], [t].[TaxName], [t].[TaxPercent], [t].[UserCreated0], [t].[UserModified0], [t].[ID1], [t].[Amount0], [t].[Code], [t].[DateCreated1], [t].[DateModified1], [t].[UserCreated1], [t].[UserModified1], [i0].[ID], [i0].[Amount], [i0].[CartID], [i0].[Code], [i0].[Name], [i0].[ProductID], [i0].[Quantity]
FROM (
    SELECT TOP(1) [s].[ID], [s].[CartID], [s].[CustomerID], [s].[DateCreated], [s].[DateModified], [s].[InvoiceID], [s].[UserCreated], [s].[UserModified], [i].[ID] AS [ID0], [i].[Amount], [i].[AmountPaid], [i].[Balance], [i].[CartID] AS [CartID0], [i].[CashierID], [i].[CustomerID] AS [CustomerID0], [i].[DateCreated] AS [DateCreated0], [i].[DateModified] AS [DateModified0], [i].[Discount], [i].[ExtData], [i].[InvoiceDate], [i].[InvoiceNo], [i].[IsPaid], [i].[Tax], [i].[TaxInclusive], [i].[TaxName], [i].[TaxPercent], [i].[UserCreated] AS [UserCreated0], [i].[UserModified] AS [UserModified0], [c].[ID] AS [ID1], [c].[Amount] AS [Amount0], [c].[Code], [c].[DateCreated] AS [DateCreated1], [c].[DateModified] AS [DateModified1], [c].[UserCreated] AS [UserCreated1], [c].[UserModified] AS [UserModified1]
    FROM [Sales] AS [s]
    INNER JOIN [Invoices] AS [i] ON [s].[InvoiceID] = [i].[ID]
    INNER JOIN [Carts] AS [c] ON [s].[CartID] = [c].[ID]
    WHERE [s].[ID] = @__ID_0
) AS [t]
LEFT JOIN [Items] AS [i0] ON [t].[ID1] = [i0].[CartID]
ORDER BY [t].[ID], [t].[ID0], [t].[ID1], [i0].[ID]"
2020-08-15 10:59:06.683 +01:00 [Information] Executed action "CRMSystem.Presentation.SaleController.Get (CRMSystem.Presentation.Core)" in 239.6386ms
2020-08-15 10:59:06.683 +01:00 [Information] Executed endpoint '"CRMSystem.Presentation.SaleController.Get (CRMSystem.Presentation.Core)"'
2020-08-15 10:59:06.875 +01:00 [Error] An unhandled exception has occurred while executing the request.
System.NullReferenceException: Object reference not set to an instance of an object.
   at CRMSystem.Domains.SaleService.GetSaleByIDAsync(Int32 ID) in C:\Users\PC\Source\Repos\kolatcole\TunnexCRM\CRMSystem.Domains.Core\Implementations\SaleService.cs:line 194
   at CRMSystem.Presentation.SaleController.Get(Int32 ID) in C:\Users\PC\Source\Repos\kolatcole\TunnexCRM\TunnexCRM\Controllers\SaleController.cs:line 45
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|24_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2020-08-15 10:59:06.890 +01:00 [Information] Request finished in 464.1452ms 500 text/plain
2020-08-15 10:59:37.815 +01:00 [Information] Request starting HTTP/2.0 GET https://localhost:44363/api/Sale/GetAllSales  
2020-08-15 10:59:37.817 +01:00 [Information] Executing endpoint '"CRMSystem.Presentation.SaleController.GetAll (CRMSystem.Presentation.Core)"'
2020-08-15 10:59:37.829 +01:00 [Information] Route matched with "{action = \"GetAll\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll()" on controller "CRMSystem.Presentation.SaleController" ("CRMSystem.Presentation.Core").
2020-08-15 10:59:37.839 +01:00 [Information] Entity Framework Core "3.1.4" initialized '"TContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=CRMSystem.Presentation.Core "
2020-08-15 10:59:37.891 +01:00 [Information] Executed DbCommand ("10"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[CartID], [s].[CustomerID], [s].[DateCreated], [s].[DateModified], [s].[InvoiceID], [s].[UserCreated], [s].[UserModified], [i].[ID], [i].[Amount], [i].[AmountPaid], [i].[Balance], [i].[CartID], [i].[CashierID], [i].[CustomerID], [i].[DateCreated], [i].[DateModified], [i].[Discount], [i].[ExtData], [i].[InvoiceDate], [i].[InvoiceNo], [i].[IsPaid], [i].[Tax], [i].[TaxInclusive], [i].[TaxName], [i].[TaxPercent], [i].[UserCreated], [i].[UserModified], [c].[ID], [c].[Amount], [c].[Code], [c].[DateCreated], [c].[DateModified], [c].[UserCreated], [c].[UserModified], [i0].[ID], [i0].[Amount], [i0].[CartID], [i0].[Code], [i0].[Name], [i0].[ProductID], [i0].[Quantity]
FROM [Sales] AS [s]
INNER JOIN [Invoices] AS [i] ON [s].[InvoiceID] = [i].[ID]
INNER JOIN [Carts] AS [c] ON [s].[CartID] = [c].[ID]
LEFT JOIN [Items] AS [i0] ON [c].[ID] = [i0].[CartID]
ORDER BY [s].[ID], [i].[ID], [c].[ID], [i0].[ID]"
2020-08-15 10:59:37.964 +01:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__invNo_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [p].[ID], [p].[Amount], [p].[CustomerID], [p].[DatePaid], [p].[InvoiceNo], [p].[Method], [p].[Reference], [p].[SaleID], [p].[UserCreated]
FROM [Payments] AS [p]
WHERE [p].[InvoiceNo] = @__invNo_0"
2020-08-15 10:59:37.972 +01:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__invNo_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [p].[ID], [p].[Amount], [p].[CustomerID], [p].[DatePaid], [p].[InvoiceNo], [p].[Method], [p].[Reference], [p].[SaleID], [p].[UserCreated]
FROM [Payments] AS [p]
WHERE [p].[InvoiceNo] = @__invNo_0"
2020-08-15 10:59:37.977 +01:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__invNo_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [p].[ID], [p].[Amount], [p].[CustomerID], [p].[DatePaid], [p].[InvoiceNo], [p].[Method], [p].[Reference], [p].[SaleID], [p].[UserCreated]
FROM [Payments] AS [p]
WHERE [p].[InvoiceNo] = @__invNo_0"
2020-08-15 10:59:37.981 +01:00 [Information] Executed DbCommand ("1"ms) [Parameters=["@__invNo_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [p].[ID], [p].[Amount], [p].[CustomerID], [p].[DatePaid], [p].[InvoiceNo], [p].[Method], [p].[Reference], [p].[SaleID], [p].[UserCreated]
FROM [Payments] AS [p]
WHERE [p].[InvoiceNo] = @__invNo_0"
2020-08-15 10:59:37.987 +01:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__invNo_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [p].[ID], [p].[Amount], [p].[CustomerID], [p].[DatePaid], [p].[InvoiceNo], [p].[Method], [p].[Reference], [p].[SaleID], [p].[UserCreated]
FROM [Payments] AS [p]
WHERE [p].[InvoiceNo] = @__invNo_0"
2020-08-15 10:59:37.990 +01:00 [Information] Executed DbCommand ("1"ms) [Parameters=["@__invNo_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [p].[ID], [p].[Amount], [p].[CustomerID], [p].[DatePaid], [p].[InvoiceNo], [p].[Method], [p].[Reference], [p].[SaleID], [p].[UserCreated]
FROM [Payments] AS [p]
WHERE [p].[InvoiceNo] = @__invNo_0"
2020-08-15 10:59:37.992 +01:00 [Information] Executed DbCommand ("1"ms) [Parameters=["@__invNo_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [p].[ID], [p].[Amount], [p].[CustomerID], [p].[DatePaid], [p].[InvoiceNo], [p].[Method], [p].[Reference], [p].[SaleID], [p].[UserCreated]
FROM [Payments] AS [p]
WHERE [p].[InvoiceNo] = @__invNo_0"
2020-08-15 10:59:37.995 +01:00 [Information] Executed DbCommand ("1"ms) [Parameters=["@__invNo_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [p].[ID], [p].[Amount], [p].[CustomerID], [p].[DatePaid], [p].[InvoiceNo], [p].[Method], [p].[Reference], [p].[SaleID], [p].[UserCreated]
FROM [Payments] AS [p]
WHERE [p].[InvoiceNo] = @__invNo_0"
2020-08-15 10:59:37.998 +01:00 [Information] Executed DbCommand ("2"ms) [Parameters=["@__invNo_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [p].[ID], [p].[Amount], [p].[CustomerID], [p].[DatePaid], [p].[InvoiceNo], [p].[Method], [p].[Reference], [p].[SaleID], [p].[UserCreated]
FROM [Payments] AS [p]
WHERE [p].[InvoiceNo] = @__invNo_0"
2020-08-15 10:59:38.002 +01:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__invNo_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [p].[ID], [p].[Amount], [p].[CustomerID], [p].[DatePaid], [p].[InvoiceNo], [p].[Method], [p].[Reference], [p].[SaleID], [p].[UserCreated]
FROM [Payments] AS [p]
WHERE [p].[InvoiceNo] = @__invNo_0"
2020-08-15 10:59:38.005 +01:00 [Information] Executed DbCommand ("2"ms) [Parameters=["@__invNo_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [p].[ID], [p].[Amount], [p].[CustomerID], [p].[DatePaid], [p].[InvoiceNo], [p].[Method], [p].[Reference], [p].[SaleID], [p].[UserCreated]
FROM [Payments] AS [p]
WHERE [p].[InvoiceNo] = @__invNo_0"
2020-08-15 10:59:38.007 +01:00 [Information] Executed DbCommand ("1"ms) [Parameters=["@__invNo_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [p].[ID], [p].[Amount], [p].[CustomerID], [p].[DatePaid], [p].[InvoiceNo], [p].[Method], [p].[Reference], [p].[SaleID], [p].[UserCreated]
FROM [Payments] AS [p]
WHERE [p].[InvoiceNo] = @__invNo_0"
2020-08-15 10:59:38.011 +01:00 [Information] Executed DbCommand ("1"ms) [Parameters=["@__invNo_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [p].[ID], [p].[Amount], [p].[CustomerID], [p].[DatePaid], [p].[InvoiceNo], [p].[Method], [p].[Reference], [p].[SaleID], [p].[UserCreated]
FROM [Payments] AS [p]
WHERE [p].[InvoiceNo] = @__invNo_0"
2020-08-15 10:59:38.013 +01:00 [Information] Executed DbCommand ("1"ms) [Parameters=["@__invNo_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [p].[ID], [p].[Amount], [p].[CustomerID], [p].[DatePaid], [p].[InvoiceNo], [p].[Method], [p].[Reference], [p].[SaleID], [p].[UserCreated]
FROM [Payments] AS [p]
WHERE [p].[InvoiceNo] = @__invNo_0"
2020-08-15 10:59:38.014 +01:00 [Information] Executed DbCommand ("0"ms) [Parameters=["@__invNo_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [p].[ID], [p].[Amount], [p].[CustomerID], [p].[DatePaid], [p].[InvoiceNo], [p].[Method], [p].[Reference], [p].[SaleID], [p].[UserCreated]
FROM [Payments] AS [p]
WHERE [p].[InvoiceNo] = @__invNo_0"
2020-08-15 10:59:38.017 +01:00 [Information] Executed DbCommand ("2"ms) [Parameters=["@__invNo_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [p].[ID], [p].[Amount], [p].[CustomerID], [p].[DatePaid], [p].[InvoiceNo], [p].[Method], [p].[Reference], [p].[SaleID], [p].[UserCreated]
FROM [Payments] AS [p]
WHERE [p].[InvoiceNo] = @__invNo_0"
2020-08-15 10:59:38.020 +01:00 [Information] Executed DbCommand ("1"ms) [Parameters=["@__invNo_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [p].[ID], [p].[Amount], [p].[CustomerID], [p].[DatePaid], [p].[InvoiceNo], [p].[Method], [p].[Reference], [p].[SaleID], [p].[UserCreated]
FROM [Payments] AS [p]
WHERE [p].[InvoiceNo] = @__invNo_0"
2020-08-15 10:59:38.026 +01:00 [Information] Executed DbCommand ("5"ms) [Parameters=["@__invNo_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [p].[ID], [p].[Amount], [p].[CustomerID], [p].[DatePaid], [p].[InvoiceNo], [p].[Method], [p].[Reference], [p].[SaleID], [p].[UserCreated]
FROM [Payments] AS [p]
WHERE [p].[InvoiceNo] = @__invNo_0"
2020-08-15 10:59:38.028 +01:00 [Information] Executed DbCommand ("1"ms) [Parameters=["@__invNo_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [p].[ID], [p].[Amount], [p].[CustomerID], [p].[DatePaid], [p].[InvoiceNo], [p].[Method], [p].[Reference], [p].[SaleID], [p].[UserCreated]
FROM [Payments] AS [p]
WHERE [p].[InvoiceNo] = @__invNo_0"
2020-08-15 10:59:38.031 +01:00 [Information] Executed DbCommand ("2"ms) [Parameters=["@__invNo_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [p].[ID], [p].[Amount], [p].[CustomerID], [p].[DatePaid], [p].[InvoiceNo], [p].[Method], [p].[Reference], [p].[SaleID], [p].[UserCreated]
FROM [Payments] AS [p]
WHERE [p].[InvoiceNo] = @__invNo_0"
2020-08-15 10:59:38.036 +01:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__invNo_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [p].[ID], [p].[Amount], [p].[CustomerID], [p].[DatePaid], [p].[InvoiceNo], [p].[Method], [p].[Reference], [p].[SaleID], [p].[UserCreated]
FROM [Payments] AS [p]
WHERE [p].[InvoiceNo] = @__invNo_0"
2020-08-15 10:59:38.038 +01:00 [Information] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[CRMSystem.Domains.Sale, CRMSystem.Domains.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2020-08-15 10:59:38.084 +01:00 [Information] Executed action "CRMSystem.Presentation.SaleController.GetAll (CRMSystem.Presentation.Core)" in 254.5909ms
2020-08-15 10:59:38.084 +01:00 [Information] Executed endpoint '"CRMSystem.Presentation.SaleController.GetAll (CRMSystem.Presentation.Core)"'
2020-08-15 10:59:38.085 +01:00 [Information] Request finished in 270.4985ms 200 application/json; charset=utf-8
2020-08-15 11:00:07.875 +01:00 [Information] Request starting HTTP/2.0 GET https://localhost:44363/api/Sale/GetSaleByID/21  
2020-08-15 11:00:07.877 +01:00 [Information] Executing endpoint '"CRMSystem.Presentation.SaleController.Get (CRMSystem.Presentation.Core)"'
2020-08-15 11:00:07.879 +01:00 [Information] Route matched with "{action = \"Get\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(Int32)" on controller "CRMSystem.Presentation.SaleController" ("CRMSystem.Presentation.Core").
2020-08-15 11:00:07.886 +01:00 [Information] Entity Framework Core "3.1.4" initialized '"TContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=CRMSystem.Presentation.Core "
2020-08-15 11:00:07.892 +01:00 [Information] Executed DbCommand ("2"ms) [Parameters=["@__ID_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[ID], [t].[CartID], [t].[CustomerID], [t].[DateCreated], [t].[DateModified], [t].[InvoiceID], [t].[UserCreated], [t].[UserModified], [t].[ID0], [t].[Amount], [t].[AmountPaid], [t].[Balance], [t].[CartID0], [t].[CashierID], [t].[CustomerID0], [t].[DateCreated0], [t].[DateModified0], [t].[Discount], [t].[ExtData], [t].[InvoiceDate], [t].[InvoiceNo], [t].[IsPaid], [t].[Tax], [t].[TaxInclusive], [t].[TaxName], [t].[TaxPercent], [t].[UserCreated0], [t].[UserModified0], [t].[ID1], [t].[Amount0], [t].[Code], [t].[DateCreated1], [t].[DateModified1], [t].[UserCreated1], [t].[UserModified1], [i0].[ID], [i0].[Amount], [i0].[CartID], [i0].[Code], [i0].[Name], [i0].[ProductID], [i0].[Quantity]
FROM (
    SELECT TOP(1) [s].[ID], [s].[CartID], [s].[CustomerID], [s].[DateCreated], [s].[DateModified], [s].[InvoiceID], [s].[UserCreated], [s].[UserModified], [i].[ID] AS [ID0], [i].[Amount], [i].[AmountPaid], [i].[Balance], [i].[CartID] AS [CartID0], [i].[CashierID], [i].[CustomerID] AS [CustomerID0], [i].[DateCreated] AS [DateCreated0], [i].[DateModified] AS [DateModified0], [i].[Discount], [i].[ExtData], [i].[InvoiceDate], [i].[InvoiceNo], [i].[IsPaid], [i].[Tax], [i].[TaxInclusive], [i].[TaxName], [i].[TaxPercent], [i].[UserCreated] AS [UserCreated0], [i].[UserModified] AS [UserModified0], [c].[ID] AS [ID1], [c].[Amount] AS [Amount0], [c].[Code], [c].[DateCreated] AS [DateCreated1], [c].[DateModified] AS [DateModified1], [c].[UserCreated] AS [UserCreated1], [c].[UserModified] AS [UserModified1]
    FROM [Sales] AS [s]
    INNER JOIN [Invoices] AS [i] ON [s].[InvoiceID] = [i].[ID]
    INNER JOIN [Carts] AS [c] ON [s].[CartID] = [c].[ID]
    WHERE [s].[ID] = @__ID_0
) AS [t]
LEFT JOIN [Items] AS [i0] ON [t].[ID1] = [i0].[CartID]
ORDER BY [t].[ID], [t].[ID0], [t].[ID1], [i0].[ID]"
2020-08-15 11:00:07.899 +01:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__invNo_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [p].[ID], [p].[Amount], [p].[CustomerID], [p].[DatePaid], [p].[InvoiceNo], [p].[Method], [p].[Reference], [p].[SaleID], [p].[UserCreated]
FROM [Payments] AS [p]
WHERE [p].[InvoiceNo] = @__invNo_0"
2020-08-15 11:00:07.900 +01:00 [Information] Executing ObjectResult, writing value of type '"CRMSystem.Domains.Sale"'.
2020-08-15 11:00:07.902 +01:00 [Information] Executed action "CRMSystem.Presentation.SaleController.Get (CRMSystem.Presentation.Core)" in 21.9998ms
2020-08-15 11:00:07.902 +01:00 [Information] Executed endpoint '"CRMSystem.Presentation.SaleController.Get (CRMSystem.Presentation.Core)"'
2020-08-15 11:00:07.902 +01:00 [Information] Request finished in 27.6282ms 200 application/json; charset=utf-8
2020-08-15 11:01:05.816 +01:00 [Information] Request starting HTTP/2.0 POST https://localhost:44363/api/Payment/MakePayment application/json 147
2020-08-15 11:01:05.820 +01:00 [Information] CORS policy execution successful.
2020-08-15 11:01:05.821 +01:00 [Information] Executing endpoint '"CRMSystem.Presentation.PaymentController.Post (CRMSystem.Presentation.Core)"'
2020-08-15 11:01:05.839 +01:00 [Information] Route matched with "{action = \"Post\", controller = \"Payment\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Post(CRMSystem.Domains.Payment)" on controller "CRMSystem.Presentation.PaymentController" ("CRMSystem.Presentation.Core").
2020-08-15 11:01:05.857 +01:00 [Information] Entity Framework Core "3.1.4" initialized '"TContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=CRMSystem.Presentation.Core "
2020-08-15 11:01:05.979 +01:00 [Information] Executed DbCommand ("71"ms) [Parameters=["@__invNumber_0='?' (Size = 4000), @__customerID_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[ID], [t].[Amount], [t].[AmountPaid], [t].[Balance], [t].[CartID], [t].[CashierID], [t].[CustomerID], [t].[DateCreated], [t].[DateModified], [t].[Discount], [t].[ExtData], [t].[InvoiceDate], [t].[InvoiceNo], [t].[IsPaid], [t].[Tax], [t].[TaxInclusive], [t].[TaxName], [t].[TaxPercent], [t].[UserCreated], [t].[UserModified], [t].[ID0], [t].[Amount0], [t].[Code], [t].[DateCreated0], [t].[DateModified0], [t].[UserCreated0], [t].[UserModified0], [i0].[ID], [i0].[Amount], [i0].[CartID], [i0].[Code], [i0].[Name], [i0].[ProductID], [i0].[Quantity]
FROM (
    SELECT TOP(1) [i].[ID], [i].[Amount], [i].[AmountPaid], [i].[Balance], [i].[CartID], [i].[CashierID], [i].[CustomerID], [i].[DateCreated], [i].[DateModified], [i].[Discount], [i].[ExtData], [i].[InvoiceDate], [i].[InvoiceNo], [i].[IsPaid], [i].[Tax], [i].[TaxInclusive], [i].[TaxName], [i].[TaxPercent], [i].[UserCreated], [i].[UserModified], [c].[ID] AS [ID0], [c].[Amount] AS [Amount0], [c].[Code], [c].[DateCreated] AS [DateCreated0], [c].[DateModified] AS [DateModified0], [c].[UserCreated] AS [UserCreated0], [c].[UserModified] AS [UserModified0]
    FROM [Invoices] AS [i]
    INNER JOIN [Carts] AS [c] ON [i].[CartID] = [c].[ID]
    WHERE ([i].[InvoiceNo] = @__invNumber_0) AND ([i].[CustomerID] = @__customerID_1)
) AS [t]
LEFT JOIN [Items] AS [i0] ON [t].[ID0] = [i0].[CartID]
ORDER BY [t].[ID], [t].[ID0], [i0].[ID]"
2020-08-15 11:01:05.995 +01:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@p0='?' (DbType = Decimal), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [Payments] ([Amount], [CustomerID], [DatePaid], [InvoiceNo], [Method], [Reference], [SaleID], [UserCreated])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
SELECT [ID]
FROM [Payments]
WHERE @@ROWCOUNT = 1 AND [ID] = scope_identity();"
2020-08-15 11:01:06.047 +01:00 [Information] Executed DbCommand ("24"ms) [Parameters=["@p19='?' (DbType = Int32), @p0='?' (DbType = Decimal), @p1='?' (DbType = Decimal), @p2='?' (DbType = Decimal), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime2), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Decimal), @p9='?' (Size = 4000), @p10='?' (DbType = DateTime2), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (DbType = Decimal), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = Decimal), @p17='?' (DbType = Int32), @p18='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [Invoices] SET [Amount] = @p0, [AmountPaid] = @p1, [Balance] = @p2, [CartID] = @p3, [CashierID] = @p4, [CustomerID] = @p5, [DateCreated] = @p6, [DateModified] = @p7, [Discount] = @p8, [ExtData] = @p9, [InvoiceDate] = @p10, [InvoiceNo] = @p11, [IsPaid] = @p12, [Tax] = @p13, [TaxInclusive] = @p14, [TaxName] = @p15, [TaxPercent] = @p16, [UserCreated] = @p17, [UserModified] = @p18
WHERE [ID] = @p19;
SELECT @@ROWCOUNT;"
2020-08-15 11:01:06.050 +01:00 [Information] Executing ObjectResult, writing value of type '"System.Int32"'.
2020-08-15 11:01:06.052 +01:00 [Information] Executed action "CRMSystem.Presentation.PaymentController.Post (CRMSystem.Presentation.Core)" in 212.6392ms
2020-08-15 11:01:06.053 +01:00 [Information] Executed endpoint '"CRMSystem.Presentation.PaymentController.Post (CRMSystem.Presentation.Core)"'
2020-08-15 11:01:06.053 +01:00 [Information] Request finished in 237.7206ms 200 application/json; charset=utf-8
2020-08-15 11:01:12.398 +01:00 [Information] Request starting HTTP/2.0 GET https://localhost:44363/api/Payment/GetFreePayments?sDate=0&eDate=0  
2020-08-15 11:01:12.402 +01:00 [Information] Executing endpoint '"CRMSystem.Presentation.PaymentController.GetFreePayments (CRMSystem.Presentation.Core)"'
2020-08-15 11:01:12.403 +01:00 [Information] Route matched with "{action = \"GetFreePayments\", controller = \"Payment\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFreePayments(Int32, System.String, System.String)" on controller "CRMSystem.Presentation.PaymentController" ("CRMSystem.Presentation.Core").
2020-08-15 11:01:12.408 +01:00 [Information] Entity Framework Core "3.1.4" initialized '"TContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=CRMSystem.Presentation.Core "
2020-08-15 11:01:12.414 +01:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [p].[ID], [p].[Amount], [p].[CustomerID], [p].[DatePaid], [p].[InvoiceNo], [p].[Method], [p].[Reference], [p].[SaleID], [p].[UserCreated]
FROM [Payments] AS [p]
WHERE [p].[Method] = N'FOC'
ORDER BY [p].[DatePaid] DESC"
2020-08-15 11:01:12.416 +01:00 [Information] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[CRMSystem.Domains.Payment, CRMSystem.Domains.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2020-08-15 11:01:12.417 +01:00 [Information] Executed action "CRMSystem.Presentation.PaymentController.GetFreePayments (CRMSystem.Presentation.Core)" in 13.7935ms
2020-08-15 11:01:12.417 +01:00 [Information] Executed endpoint '"CRMSystem.Presentation.PaymentController.GetFreePayments (CRMSystem.Presentation.Core)"'
2020-08-15 11:01:12.418 +01:00 [Information] Request finished in 20.1076ms 200 application/json; charset=utf-8
2020-08-15 11:02:42.762 +01:00 [Information] Request starting HTTP/2.0 GET https://localhost:44363/api/values  
2020-08-15 11:02:42.766 +01:00 [Information] Request finished in 3.7419ms 404 
2020-08-15 11:02:50.151 +01:00 [Information] Request starting HTTP/2.0 GET https://localhost:44363/swagger/index.html  
2020-08-15 11:02:50.163 +01:00 [Information] Request finished in 12.6116ms 200 text/html;charset=utf-8
2020-08-15 11:02:50.412 +01:00 [Information] Request starting HTTP/2.0 GET https://localhost:44363/swagger/v1/swagger.json  
2020-08-15 11:02:50.599 +01:00 [Information] Request finished in 186.6921ms 200 application/json;charset=utf-8
2020-08-15 11:03:27.470 +01:00 [Information] Request starting HTTP/2.0 GET https://localhost:44363/api/Payment/GetFreePayments?customerID=6&sDate=0&eDate=0  
2020-08-15 11:03:27.471 +01:00 [Information] Executing endpoint '"CRMSystem.Presentation.PaymentController.GetFreePayments (CRMSystem.Presentation.Core)"'
2020-08-15 11:03:27.472 +01:00 [Information] Route matched with "{action = \"GetFreePayments\", controller = \"Payment\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFreePayments(Int32, System.String, System.String)" on controller "CRMSystem.Presentation.PaymentController" ("CRMSystem.Presentation.Core").
2020-08-15 11:03:27.485 +01:00 [Information] Entity Framework Core "3.1.4" initialized '"TContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=CRMSystem.Presentation.Core "
2020-08-15 11:03:27.600 +01:00 [Information] Executed DbCommand ("82"ms) [Parameters=["@__customerID_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [p].[ID], [p].[Amount], [p].[CustomerID], [p].[DatePaid], [p].[InvoiceNo], [p].[Method], [p].[Reference], [p].[SaleID], [p].[UserCreated]
FROM [Payments] AS [p]
WHERE ([p].[CustomerID] = @__customerID_0) AND ([p].[Method] = N'FOC')"
2020-08-15 11:03:27.606 +01:00 [Information] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[CRMSystem.Domains.Payment, CRMSystem.Domains.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2020-08-15 11:03:27.607 +01:00 [Information] Executed action "CRMSystem.Presentation.PaymentController.GetFreePayments (CRMSystem.Presentation.Core)" in 134.7172ms
2020-08-15 11:03:27.608 +01:00 [Information] Executed endpoint '"CRMSystem.Presentation.PaymentController.GetFreePayments (CRMSystem.Presentation.Core)"'
2020-08-15 11:03:27.608 +01:00 [Information] Request finished in 138.3325ms 200 application/json; charset=utf-8
2020-08-15 11:03:37.369 +01:00 [Information] Request starting HTTP/2.0 GET https://localhost:44363/api/Payment/GetFreePayments?customerID=8&sDate=0&eDate=0  
2020-08-15 11:03:37.369 +01:00 [Information] Executing endpoint '"CRMSystem.Presentation.PaymentController.GetFreePayments (CRMSystem.Presentation.Core)"'
2020-08-15 11:03:37.370 +01:00 [Information] Route matched with "{action = \"GetFreePayments\", controller = \"Payment\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFreePayments(Int32, System.String, System.String)" on controller "CRMSystem.Presentation.PaymentController" ("CRMSystem.Presentation.Core").
2020-08-15 11:03:37.375 +01:00 [Information] Entity Framework Core "3.1.4" initialized '"TContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=CRMSystem.Presentation.Core "
2020-08-15 11:03:37.381 +01:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__customerID_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [p].[ID], [p].[Amount], [p].[CustomerID], [p].[DatePaid], [p].[InvoiceNo], [p].[Method], [p].[Reference], [p].[SaleID], [p].[UserCreated]
FROM [Payments] AS [p]
WHERE ([p].[CustomerID] = @__customerID_0) AND ([p].[Method] = N'FOC')"
2020-08-15 11:03:37.386 +01:00 [Information] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[CRMSystem.Domains.Payment, CRMSystem.Domains.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2020-08-15 11:03:37.388 +01:00 [Information] Executed action "CRMSystem.Presentation.PaymentController.GetFreePayments (CRMSystem.Presentation.Core)" in 17.0034ms
2020-08-15 11:03:37.392 +01:00 [Information] Executed endpoint '"CRMSystem.Presentation.PaymentController.GetFreePayments (CRMSystem.Presentation.Core)"'
2020-08-15 11:03:37.393 +01:00 [Information] Request finished in 24.2454ms 200 application/json; charset=utf-8
2020-08-15 11:04:30.260 +01:00 [Information] Request starting HTTP/2.0 POST https://localhost:44363/api/Payment/MakePayment application/json 147
2020-08-15 11:04:30.261 +01:00 [Information] CORS policy execution successful.
2020-08-15 11:04:30.262 +01:00 [Information] Executing endpoint '"CRMSystem.Presentation.PaymentController.Post (CRMSystem.Presentation.Core)"'
2020-08-15 11:04:30.265 +01:00 [Information] Route matched with "{action = \"Post\", controller = \"Payment\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Post(CRMSystem.Domains.Payment)" on controller "CRMSystem.Presentation.PaymentController" ("CRMSystem.Presentation.Core").
2020-08-15 11:04:30.271 +01:00 [Information] Entity Framework Core "3.1.4" initialized '"TContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=CRMSystem.Presentation.Core "
2020-08-15 11:04:30.279 +01:00 [Information] Executed DbCommand ("2"ms) [Parameters=["@__invNumber_0='?' (Size = 4000), @__customerID_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[ID], [t].[Amount], [t].[AmountPaid], [t].[Balance], [t].[CartID], [t].[CashierID], [t].[CustomerID], [t].[DateCreated], [t].[DateModified], [t].[Discount], [t].[ExtData], [t].[InvoiceDate], [t].[InvoiceNo], [t].[IsPaid], [t].[Tax], [t].[TaxInclusive], [t].[TaxName], [t].[TaxPercent], [t].[UserCreated], [t].[UserModified], [t].[ID0], [t].[Amount0], [t].[Code], [t].[DateCreated0], [t].[DateModified0], [t].[UserCreated0], [t].[UserModified0], [i0].[ID], [i0].[Amount], [i0].[CartID], [i0].[Code], [i0].[Name], [i0].[ProductID], [i0].[Quantity]
FROM (
    SELECT TOP(1) [i].[ID], [i].[Amount], [i].[AmountPaid], [i].[Balance], [i].[CartID], [i].[CashierID], [i].[CustomerID], [i].[DateCreated], [i].[DateModified], [i].[Discount], [i].[ExtData], [i].[InvoiceDate], [i].[InvoiceNo], [i].[IsPaid], [i].[Tax], [i].[TaxInclusive], [i].[TaxName], [i].[TaxPercent], [i].[UserCreated], [i].[UserModified], [c].[ID] AS [ID0], [c].[Amount] AS [Amount0], [c].[Code], [c].[DateCreated] AS [DateCreated0], [c].[DateModified] AS [DateModified0], [c].[UserCreated] AS [UserCreated0], [c].[UserModified] AS [UserModified0]
    FROM [Invoices] AS [i]
    INNER JOIN [Carts] AS [c] ON [i].[CartID] = [c].[ID]
    WHERE ([i].[InvoiceNo] = @__invNumber_0) AND ([i].[CustomerID] = @__customerID_1)
) AS [t]
LEFT JOIN [Items] AS [i0] ON [t].[ID0] = [i0].[CartID]
ORDER BY [t].[ID], [t].[ID0], [i0].[ID]"
2020-08-15 11:04:30.303 +01:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@p0='?' (DbType = Decimal), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [Payments] ([Amount], [CustomerID], [DatePaid], [InvoiceNo], [Method], [Reference], [SaleID], [UserCreated])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
SELECT [ID]
FROM [Payments]
WHERE @@ROWCOUNT = 1 AND [ID] = scope_identity();"
2020-08-15 11:04:30.327 +01:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@p19='?' (DbType = Int32), @p0='?' (DbType = Decimal), @p1='?' (DbType = Decimal), @p2='?' (DbType = Decimal), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime2), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Decimal), @p9='?' (Size = 4000), @p10='?' (DbType = DateTime2), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (DbType = Decimal), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = Decimal), @p17='?' (DbType = Int32), @p18='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [Invoices] SET [Amount] = @p0, [AmountPaid] = @p1, [Balance] = @p2, [CartID] = @p3, [CashierID] = @p4, [CustomerID] = @p5, [DateCreated] = @p6, [DateModified] = @p7, [Discount] = @p8, [ExtData] = @p9, [InvoiceDate] = @p10, [InvoiceNo] = @p11, [IsPaid] = @p12, [Tax] = @p13, [TaxInclusive] = @p14, [TaxName] = @p15, [TaxPercent] = @p16, [UserCreated] = @p17, [UserModified] = @p18
WHERE [ID] = @p19;
SELECT @@ROWCOUNT;"
2020-08-15 11:04:30.363 +01:00 [Information] Executing ObjectResult, writing value of type '"System.Int32"'.
2020-08-15 11:04:30.365 +01:00 [Information] Executed action "CRMSystem.Presentation.PaymentController.Post (CRMSystem.Presentation.Core)" in 99.6172ms
2020-08-15 11:04:30.365 +01:00 [Information] Executed endpoint '"CRMSystem.Presentation.PaymentController.Post (CRMSystem.Presentation.Core)"'
2020-08-15 11:04:30.366 +01:00 [Information] Request finished in 105.3939ms 200 application/json; charset=utf-8
2020-08-15 11:09:49.771 +01:00 [Information] Request starting HTTP/2.0 GET https://localhost:44363/api/Payment/GetFreePayments?customerID=8&sDate=0&eDate=0  
2020-08-15 11:09:49.772 +01:00 [Information] Executing endpoint '"CRMSystem.Presentation.PaymentController.GetFreePayments (CRMSystem.Presentation.Core)"'
2020-08-15 11:09:49.773 +01:00 [Information] Route matched with "{action = \"GetFreePayments\", controller = \"Payment\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFreePayments(Int32, System.String, System.String)" on controller "CRMSystem.Presentation.PaymentController" ("CRMSystem.Presentation.Core").
2020-08-15 11:09:49.778 +01:00 [Information] Entity Framework Core "3.1.4" initialized '"TContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=CRMSystem.Presentation.Core "
2020-08-15 11:09:49.783 +01:00 [Information] Executed DbCommand ("2"ms) [Parameters=["@__customerID_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [p].[ID], [p].[Amount], [p].[CustomerID], [p].[DatePaid], [p].[InvoiceNo], [p].[Method], [p].[Reference], [p].[SaleID], [p].[UserCreated]
FROM [Payments] AS [p]
WHERE ([p].[CustomerID] = @__customerID_0) AND ([p].[Method] = N'FOC')"
2020-08-15 11:09:49.785 +01:00 [Information] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[CRMSystem.Domains.Payment, CRMSystem.Domains.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2020-08-15 11:09:49.787 +01:00 [Information] Executed action "CRMSystem.Presentation.PaymentController.GetFreePayments (CRMSystem.Presentation.Core)" in 13.7578ms
2020-08-15 11:09:49.787 +01:00 [Information] Executed endpoint '"CRMSystem.Presentation.PaymentController.GetFreePayments (CRMSystem.Presentation.Core)"'
2020-08-15 11:09:49.788 +01:00 [Information] Request finished in 16.4391ms 200 application/json; charset=utf-8
2020-08-15 11:10:23.076 +01:00 [Information] Request starting HTTP/2.0 GET https://localhost:44363/api/Payment/GetFreePayments?customerID=8&sDate=14-08-2020&eDate=15-08-2020  
2020-08-15 11:10:23.077 +01:00 [Information] Executing endpoint '"CRMSystem.Presentation.PaymentController.GetFreePayments (CRMSystem.Presentation.Core)"'
2020-08-15 11:10:23.077 +01:00 [Information] Route matched with "{action = \"GetFreePayments\", controller = \"Payment\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFreePayments(Int32, System.String, System.String)" on controller "CRMSystem.Presentation.PaymentController" ("CRMSystem.Presentation.Core").
2020-08-15 11:10:23.085 +01:00 [Information] Entity Framework Core "3.1.4" initialized '"TContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=CRMSystem.Presentation.Core "
2020-08-15 11:10:23.397 +01:00 [Information] Executed DbCommand ("296"ms) [Parameters=["@__customerID_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)"], CommandType='Text', CommandTimeout='30']"
""SELECT [p].[ID], [p].[Amount], [p].[CustomerID], [p].[DatePaid], [p].[InvoiceNo], [p].[Method], [p].[Reference], [p].[SaleID], [p].[UserCreated]
FROM [Payments] AS [p]
WHERE ((([p].[CustomerID] = @__customerID_0) AND ([p].[DatePaid] >= @__startDate_1)) AND ([p].[DatePaid] <= @__endDate_2)) AND ([p].[Method] = N'FOC')"
2020-08-15 11:10:23.401 +01:00 [Information] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[CRMSystem.Domains.Payment, CRMSystem.Domains.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2020-08-15 11:10:23.402 +01:00 [Information] Executed action "CRMSystem.Presentation.PaymentController.GetFreePayments (CRMSystem.Presentation.Core)" in 324.3794ms
2020-08-15 11:10:23.402 +01:00 [Information] Executed endpoint '"CRMSystem.Presentation.PaymentController.GetFreePayments (CRMSystem.Presentation.Core)"'
2020-08-15 11:10:23.403 +01:00 [Information] Request finished in 326.9194ms 200 application/json; charset=utf-8
2020-08-15 11:11:05.969 +01:00 [Information] Request starting HTTP/2.0 GET https://localhost:44363/api/Payment/GetFreePayments?customerID=8&sDate=14-08-2020&eDate=14-08-2020  
2020-08-15 11:11:05.970 +01:00 [Information] Executing endpoint '"CRMSystem.Presentation.PaymentController.GetFreePayments (CRMSystem.Presentation.Core)"'
2020-08-15 11:11:05.971 +01:00 [Information] Route matched with "{action = \"GetFreePayments\", controller = \"Payment\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFreePayments(Int32, System.String, System.String)" on controller "CRMSystem.Presentation.PaymentController" ("CRMSystem.Presentation.Core").
2020-08-15 11:11:05.975 +01:00 [Information] Entity Framework Core "3.1.4" initialized '"TContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=CRMSystem.Presentation.Core "
2020-08-15 11:11:05.978 +01:00 [Information] Executed DbCommand ("1"ms) [Parameters=["@__customerID_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)"], CommandType='Text', CommandTimeout='30']"
""SELECT [p].[ID], [p].[Amount], [p].[CustomerID], [p].[DatePaid], [p].[InvoiceNo], [p].[Method], [p].[Reference], [p].[SaleID], [p].[UserCreated]
FROM [Payments] AS [p]
WHERE ((([p].[CustomerID] = @__customerID_0) AND ([p].[DatePaid] >= @__startDate_1)) AND ([p].[DatePaid] <= @__endDate_2)) AND ([p].[Method] = N'FOC')"
2020-08-15 11:11:05.980 +01:00 [Information] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[CRMSystem.Domains.Payment, CRMSystem.Domains.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2020-08-15 11:11:05.983 +01:00 [Information] Executed action "CRMSystem.Presentation.PaymentController.GetFreePayments (CRMSystem.Presentation.Core)" in 11.7726ms
2020-08-15 11:11:05.984 +01:00 [Information] Executed endpoint '"CRMSystem.Presentation.PaymentController.GetFreePayments (CRMSystem.Presentation.Core)"'
2020-08-15 11:11:05.987 +01:00 [Information] Request finished in 18.1263ms 200 application/json; charset=utf-8
2020-08-15 11:11:40.034 +01:00 [Information] Request starting HTTP/2.0 GET https://localhost:44363/api/Payment/GetFreePayments?customerID=8&sDate=13-08-2020&eDate=14-08-2020  
2020-08-15 11:11:40.034 +01:00 [Information] Executing endpoint '"CRMSystem.Presentation.PaymentController.GetFreePayments (CRMSystem.Presentation.Core)"'
2020-08-15 11:11:40.035 +01:00 [Information] Route matched with "{action = \"GetFreePayments\", controller = \"Payment\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFreePayments(Int32, System.String, System.String)" on controller "CRMSystem.Presentation.PaymentController" ("CRMSystem.Presentation.Core").
2020-08-15 11:11:40.040 +01:00 [Information] Entity Framework Core "3.1.4" initialized '"TContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=CRMSystem.Presentation.Core "
2020-08-15 11:11:40.048 +01:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@__customerID_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)"], CommandType='Text', CommandTimeout='30']"
""SELECT [p].[ID], [p].[Amount], [p].[CustomerID], [p].[DatePaid], [p].[InvoiceNo], [p].[Method], [p].[Reference], [p].[SaleID], [p].[UserCreated]
FROM [Payments] AS [p]
WHERE ((([p].[CustomerID] = @__customerID_0) AND ([p].[DatePaid] >= @__startDate_1)) AND ([p].[DatePaid] <= @__endDate_2)) AND ([p].[Method] = N'FOC')"
2020-08-15 11:11:40.050 +01:00 [Information] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[CRMSystem.Domains.Payment, CRMSystem.Domains.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2020-08-15 11:11:40.051 +01:00 [Information] Executed action "CRMSystem.Presentation.PaymentController.GetFreePayments (CRMSystem.Presentation.Core)" in 16.158ms
2020-08-15 11:11:40.052 +01:00 [Information] Executed endpoint '"CRMSystem.Presentation.PaymentController.GetFreePayments (CRMSystem.Presentation.Core)"'
2020-08-15 11:11:40.052 +01:00 [Information] Request finished in 18.3035ms 200 application/json; charset=utf-8
2020-08-15 11:12:12.439 +01:00 [Information] Request starting HTTP/2.0 GET https://localhost:44363/api/Payment/GetFreePayments?customerID=8&sDate=2020-08-13&eDate=2020-08-14  
2020-08-15 11:12:12.440 +01:00 [Information] Executing endpoint '"CRMSystem.Presentation.PaymentController.GetFreePayments (CRMSystem.Presentation.Core)"'
2020-08-15 11:12:12.441 +01:00 [Information] Route matched with "{action = \"GetFreePayments\", controller = \"Payment\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFreePayments(Int32, System.String, System.String)" on controller "CRMSystem.Presentation.PaymentController" ("CRMSystem.Presentation.Core").
2020-08-15 11:12:12.444 +01:00 [Information] Entity Framework Core "3.1.4" initialized '"TContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=CRMSystem.Presentation.Core "
2020-08-15 11:12:12.447 +01:00 [Information] Executed DbCommand ("1"ms) [Parameters=["@__customerID_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)"], CommandType='Text', CommandTimeout='30']"
""SELECT [p].[ID], [p].[Amount], [p].[CustomerID], [p].[DatePaid], [p].[InvoiceNo], [p].[Method], [p].[Reference], [p].[SaleID], [p].[UserCreated]
FROM [Payments] AS [p]
WHERE ((([p].[CustomerID] = @__customerID_0) AND ([p].[DatePaid] >= @__startDate_1)) AND ([p].[DatePaid] <= @__endDate_2)) AND ([p].[Method] = N'FOC')"
2020-08-15 11:12:12.451 +01:00 [Information] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[CRMSystem.Domains.Payment, CRMSystem.Domains.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2020-08-15 11:12:12.452 +01:00 [Information] Executed action "CRMSystem.Presentation.PaymentController.GetFreePayments (CRMSystem.Presentation.Core)" in 11.4048ms
2020-08-15 11:12:12.452 +01:00 [Information] Executed endpoint '"CRMSystem.Presentation.PaymentController.GetFreePayments (CRMSystem.Presentation.Core)"'
2020-08-15 11:12:12.453 +01:00 [Information] Request finished in 13.5103ms 200 application/json; charset=utf-8
2020-08-15 11:13:36.691 +01:00 [Information] User profile is available. Using '"C:\Users\PC\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
2020-08-15 11:13:37.718 +01:00 [Information] Request starting HTTP/2.0 GET https://localhost:44363/api/values  
2020-08-15 11:13:38.329 +01:00 [Information] Request finished in 616.1341ms 404 
2020-08-15 11:13:46.017 +01:00 [Information] Request starting HTTP/2.0 GET https://localhost:44363/swagger  
2020-08-15 11:13:46.046 +01:00 [Information] Request finished in 34.3031ms 301 
2020-08-15 11:13:46.085 +01:00 [Information] Request starting HTTP/2.0 GET https://localhost:44363/swagger/index.html  
2020-08-15 11:13:46.239 +01:00 [Information] Request finished in 152.6953ms 200 text/html;charset=utf-8
2020-08-15 11:13:46.334 +01:00 [Information] Request starting HTTP/2.0 GET https://localhost:44363/swagger/swagger-ui.css  
2020-08-15 11:13:46.334 +01:00 [Information] Request starting HTTP/2.0 GET https://localhost:44363/swagger/swagger-ui-bundle.js  
2020-08-15 11:13:46.337 +01:00 [Information] Request starting HTTP/2.0 GET https://localhost:44363/swagger/swagger-ui-standalone-preset.js  
2020-08-15 11:13:46.767 +01:00 [Information] Sending file. Request path: '"/swagger-ui.css"'. Physical path: '"N/A"'
2020-08-15 11:13:46.767 +01:00 [Information] Sending file. Request path: '"/swagger-ui-standalone-preset.js"'. Physical path: '"N/A"'
2020-08-15 11:13:46.793 +01:00 [Information] Request finished in 460.329ms 200 application/javascript
2020-08-15 11:13:46.795 +01:00 [Information] Request finished in 466.6564ms 200 text/css
2020-08-15 11:13:46.860 +01:00 [Information] Sending file. Request path: '"/swagger-ui-bundle.js"'. Physical path: '"N/A"'
2020-08-15 11:13:46.866 +01:00 [Information] Request finished in 539.2254ms 200 application/javascript
2020-08-15 11:13:47.886 +01:00 [Information] Request starting HTTP/1.1 GET https://localhost:44363/swagger/swagger-ui-bundle.js.map  
2020-08-15 11:13:48.156 +01:00 [Information] Request finished in 273.7007ms 404 
2020-08-15 11:13:48.409 +01:00 [Information] Request starting HTTP/1.1 GET https://localhost:44363/swagger/swagger-ui-standalone-preset.js.map  
2020-08-15 11:13:48.424 +01:00 [Information] Request finished in 17.1648ms 404 
2020-08-15 11:13:48.788 +01:00 [Information] Request starting HTTP/2.0 GET https://localhost:44363/swagger/v1/swagger.json  
2020-08-15 11:13:48.793 +01:00 [Information] Request starting HTTP/2.0 GET https://localhost:44363/swagger/favicon-32x32.png  
2020-08-15 11:13:48.807 +01:00 [Information] Sending file. Request path: '"/favicon-32x32.png"'. Physical path: '"N/A"'
2020-08-15 11:13:48.816 +01:00 [Information] Request finished in 30.7552ms 200 image/png
2020-08-15 11:13:49.129 +01:00 [Information] Request finished in 350.2022ms 200 application/json;charset=utf-8
2020-08-15 11:14:47.974 +01:00 [Information] Request starting HTTP/2.0 GET https://localhost:44363/api/Payment/GetFreePayments?customerID=8&sDate=2020-08-13&eDate=2020-08-14  
2020-08-15 11:14:48.012 +01:00 [Information] Executing endpoint '"CRMSystem.Presentation.PaymentController.GetFreePayments (CRMSystem.Presentation.Core)"'
2020-08-15 11:14:48.214 +01:00 [Information] Route matched with "{action = \"GetFreePayments\", controller = \"Payment\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFreePayments(Int32, System.String, System.String)" on controller "CRMSystem.Presentation.PaymentController" ("CRMSystem.Presentation.Core").
2020-08-15 11:18:51.939 +01:00 [Information] User profile is available. Using '"C:\Users\PC\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
2020-08-15 11:18:52.292 +01:00 [Information] Request starting HTTP/2.0 GET https://localhost:44363/api/values  
2020-08-15 11:18:52.467 +01:00 [Information] Request finished in 186.0598ms 404 
2020-08-15 11:18:59.285 +01:00 [Information] Request starting HTTP/2.0 GET https://localhost:44363/swagger/index.html  
2020-08-15 11:18:59.369 +01:00 [Information] Request finished in 86.0746ms 200 text/html;charset=utf-8
2020-08-15 11:18:59.633 +01:00 [Information] Request starting HTTP/2.0 GET https://localhost:44363/swagger/v1/swagger.json  
2020-08-15 11:18:59.911 +01:00 [Information] Request finished in 278.7688ms 200 application/json;charset=utf-8
2020-08-15 11:19:41.916 +01:00 [Information] Request starting HTTP/2.0 GET https://localhost:44363/api/Payment/GetFreePayments?customerID=8&sDate=14-08-2020&eDate=14-08-2020  
2020-08-15 11:19:41.926 +01:00 [Information] Executing endpoint '"CRMSystem.Presentation.PaymentController.GetFreePayments (CRMSystem.Presentation.Core)"'
2020-08-15 11:19:42.004 +01:00 [Information] Route matched with "{action = \"GetFreePayments\", controller = \"Payment\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFreePayments(Int32, System.String, System.String)" on controller "CRMSystem.Presentation.PaymentController" ("CRMSystem.Presentation.Core").
2020-08-15 11:19:43.593 +01:00 [Warning] No type was specified for the decimal column '"Amount"' on entity type '"Invoice"'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2020-08-15 11:19:43.593 +01:00 [Warning] No type was specified for the decimal column '"AmountPaid"' on entity type '"Invoice"'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2020-08-15 11:19:43.594 +01:00 [Warning] No type was specified for the decimal column '"Balance"' on entity type '"Invoice"'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2020-08-15 11:19:43.594 +01:00 [Warning] No type was specified for the decimal column '"Discount"' on entity type '"Invoice"'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2020-08-15 11:19:43.594 +01:00 [Warning] No type was specified for the decimal column '"Tax"' on entity type '"Invoice"'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2020-08-15 11:19:43.594 +01:00 [Warning] No type was specified for the decimal column '"TaxPercent"' on entity type '"Invoice"'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2020-08-15 11:19:43.594 +01:00 [Warning] No type was specified for the decimal column '"Amount"' on entity type '"Item"'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2020-08-15 11:19:43.595 +01:00 [Warning] No type was specified for the decimal column '"Amount"' on entity type '"Payment"'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2020-08-15 11:19:43.597 +01:00 [Warning] No type was specified for the decimal column '"CostPrice"' on entity type '"Price"'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2020-08-15 11:19:43.597 +01:00 [Warning] No type was specified for the decimal column '"SalePrice"' on entity type '"Price"'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2020-08-15 11:19:43.598 +01:00 [Warning] No type was specified for the decimal column '"CostPrice"' on entity type '"Product"'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2020-08-15 11:19:43.598 +01:00 [Warning] No type was specified for the decimal column '"SalePrice"' on entity type '"Product"'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2020-08-15 11:19:43.600 +01:00 [Warning] No type was specified for the decimal column '"CompetencyValue"' on entity type '"StaffSkill"'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2020-08-15 11:19:43.690 +01:00 [Information] Entity Framework Core "3.1.4" initialized '"TContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=CRMSystem.Presentation.Core "
2020-08-15 11:19:45.062 +01:00 [Information] Executed DbCommand ("118"ms) [Parameters=["@__customerID_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)"], CommandType='Text', CommandTimeout='30']"
""SELECT [p].[ID], [p].[Amount], [p].[CustomerID], [p].[DatePaid], [p].[InvoiceNo], [p].[Method], [p].[Reference], [p].[SaleID], [p].[UserCreated]
FROM [Payments] AS [p]
WHERE ((([p].[CustomerID] = @__customerID_0) AND ([p].[DatePaid] >= @__startDate_1)) AND ([p].[DatePaid] <= @__endDate_2)) AND ([p].[Method] = N'FOC')"
2020-08-15 11:19:45.238 +01:00 [Information] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[CRMSystem.Domains.Payment, CRMSystem.Domains.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2020-08-15 11:19:45.270 +01:00 [Information] Executed action "CRMSystem.Presentation.PaymentController.GetFreePayments (CRMSystem.Presentation.Core)" in 3252.198ms
2020-08-15 11:19:45.272 +01:00 [Information] Executed endpoint '"CRMSystem.Presentation.PaymentController.GetFreePayments (CRMSystem.Presentation.Core)"'
2020-08-15 11:19:45.278 +01:00 [Information] Request finished in 3362.1433ms 200 application/json; charset=utf-8
2020-08-15 11:19:58.124 +01:00 [Information] Request starting HTTP/2.0 GET https://localhost:44363/api/Payment/GetFreePayments?customerID=8&sDate=14-08-2020&eDate=15-08-2020  
2020-08-15 11:19:58.128 +01:00 [Information] Executing endpoint '"CRMSystem.Presentation.PaymentController.GetFreePayments (CRMSystem.Presentation.Core)"'
2020-08-15 11:19:58.131 +01:00 [Information] Route matched with "{action = \"GetFreePayments\", controller = \"Payment\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFreePayments(Int32, System.String, System.String)" on controller "CRMSystem.Presentation.PaymentController" ("CRMSystem.Presentation.Core").
2020-08-15 11:19:58.212 +01:00 [Information] Entity Framework Core "3.1.4" initialized '"TContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=CRMSystem.Presentation.Core "
2020-08-15 11:19:58.235 +01:00 [Information] Executed DbCommand ("11"ms) [Parameters=["@__customerID_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)"], CommandType='Text', CommandTimeout='30']"
""SELECT [p].[ID], [p].[Amount], [p].[CustomerID], [p].[DatePaid], [p].[InvoiceNo], [p].[Method], [p].[Reference], [p].[SaleID], [p].[UserCreated]
FROM [Payments] AS [p]
WHERE ((([p].[CustomerID] = @__customerID_0) AND ([p].[DatePaid] >= @__startDate_1)) AND ([p].[DatePaid] <= @__endDate_2)) AND ([p].[Method] = N'FOC')"
2020-08-15 11:19:58.238 +01:00 [Information] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[CRMSystem.Domains.Payment, CRMSystem.Domains.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2020-08-15 11:19:58.242 +01:00 [Information] Executed action "CRMSystem.Presentation.PaymentController.GetFreePayments (CRMSystem.Presentation.Core)" in 109.8431ms
2020-08-15 11:19:58.242 +01:00 [Information] Executed endpoint '"CRMSystem.Presentation.PaymentController.GetFreePayments (CRMSystem.Presentation.Core)"'
2020-08-15 11:19:58.243 +01:00 [Information] Request finished in 119.7021ms 200 application/json; charset=utf-8
2020-08-15 11:20:11.827 +01:00 [Information] Request starting HTTP/2.0 GET https://localhost:44363/api/Payment/GetFreePayments?customerID=8&sDate=15-08-2020&eDate=15-08-2020  
2020-08-15 11:20:11.829 +01:00 [Information] Executing endpoint '"CRMSystem.Presentation.PaymentController.GetFreePayments (CRMSystem.Presentation.Core)"'
2020-08-15 11:20:11.830 +01:00 [Information] Route matched with "{action = \"GetFreePayments\", controller = \"Payment\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFreePayments(Int32, System.String, System.String)" on controller "CRMSystem.Presentation.PaymentController" ("CRMSystem.Presentation.Core").
2020-08-15 11:20:11.861 +01:00 [Information] Entity Framework Core "3.1.4" initialized '"TContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=CRMSystem.Presentation.Core "
2020-08-15 11:20:11.869 +01:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@__customerID_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)"], CommandType='Text', CommandTimeout='30']"
""SELECT [p].[ID], [p].[Amount], [p].[CustomerID], [p].[DatePaid], [p].[InvoiceNo], [p].[Method], [p].[Reference], [p].[SaleID], [p].[UserCreated]
FROM [Payments] AS [p]
WHERE ((([p].[CustomerID] = @__customerID_0) AND ([p].[DatePaid] >= @__startDate_1)) AND ([p].[DatePaid] <= @__endDate_2)) AND ([p].[Method] = N'FOC')"
2020-08-15 11:20:11.871 +01:00 [Information] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[CRMSystem.Domains.Payment, CRMSystem.Domains.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2020-08-15 11:20:11.872 +01:00 [Information] Executed action "CRMSystem.Presentation.PaymentController.GetFreePayments (CRMSystem.Presentation.Core)" in 41.6966ms
2020-08-15 11:20:11.873 +01:00 [Information] Executed endpoint '"CRMSystem.Presentation.PaymentController.GetFreePayments (CRMSystem.Presentation.Core)"'
2020-08-15 11:20:11.874 +01:00 [Information] Request finished in 46.335ms 200 application/json; charset=utf-8
